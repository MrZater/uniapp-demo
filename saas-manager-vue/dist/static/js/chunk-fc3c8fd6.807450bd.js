(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fc3c8fd6"],{"0c06":function(t,e,a){},1762:function(t,e,a){"use strict";a("33bf")},1932:function(t,e,a){},"244d":function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"d",(function(){return n})),a.d(e,"a",(function(){return r})),a.d(e,"e",(function(){return o})),a.d(e,"c",(function(){return l}));var i=a("b775");function s(){return Object(i["a"])({url:"/place/list",methods:"get"})}function n(t){return Object(i["a"])({url:"/place/pager",method:"post",data:t})}function r(t){return Object(i["a"])({url:"/place/add",method:"post",data:t})}function o(t){return Object(i["a"])({url:"/place/update",method:"post",data:t})}function l(t){return Object(i["a"])({url:"/place/listByAppId",method:"post",data:t})}},2909:function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));var i=a("6b75");function s(t){if(Array.isArray(t))return Object(i["a"])(t)}a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("a630");function n(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var r=a("06c5");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){return s(t)||n(t)||Object(r["a"])(t)||o()}},2934:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return n}));var i=a("b775");function s(){return Object(i["a"])({url:"/common/position_list",methods:"get"})}function n(t){return Object(i["a"])({url:"/user/getAccountList",method:"post",data:t})}},"2c76":function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));a("4d90"),a("99af");var i=function(t,e){var a=new Date(t),i=a.getFullYear(),s=(a.getMonth()+1+"").padStart("2","0"),n=(a.getDate()+"").padStart("2","0"),r=(a.getHours()+"").padStart("2","0"),o=(a.getMinutes()+"").padStart("2","0"),l=(a.getSeconds()+"").padStart("2","0");return"YYYY-MM-DD hh:mm:ss"==e?"".concat(i,"-").concat(s,"-").concat(n," ").concat(r,":").concat(o,":").concat(l):"YYYY/MM/DD hh:dd:ss"==e?"".concat(i,"/").concat(s,"/").concat(n," ").concat(r,":").concat(o,":").concat(l):"YYYY-MM-DD_hhmmss"==e?"".concat(i,"-").concat(s,"-").concat(n,"_").concat(r).concat(o).concat(l):"".concat(i,"-").concat(s,"-").concat(n)}},"33bf":function(t,e,a){},3620:function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"a",(function(){return n})),a.d(e,"c",(function(){return r}));var i=a("ade3"),s=(a("d3b7"),a("159b"),{tooltip:{trigger:"axis",formatter:function(t){var e="";return t.forEach((function(t,a){var i={};"收益"==t.seriesName||"eCPM"==t.seriesName||"预估收益"==t.seriesName||"ARPDAU"==t.seriesName?i.value="￥"+t.value:"渗透率"==t.seriesName?i.value=t.value+"%":i.value=t.value,e+=t.marker+t.seriesName+": "+i.value+"<br>"})),t[0].axisValue+"<br>"+e}},legend:{data:[]},grid:{top:"2%",left:"0%",right:"2%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:[],axisLine:{lineStyle:{color:"#000",width:.5}}},yAxis:[Object(i["a"])({type:"value",axisLabel:{formatter:"￥{value}"},position:"",axisLine:{lineStyle:{color:"#666",width:.5}},axisTick:{show:!1},splitLine:{show:!1}},"axisLabel",{show:!1}),{type:"value",position:"",axisLine:{lineStyle:{color:"#666",width:.5}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1}},{type:"value",position:"",axisLine:{lineStyle:{color:"#666",width:.5}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1}},{type:"value",position:"",axisLine:{lineStyle:{color:"#666",width:.5}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1}},{type:"value",position:"",axisLine:{lineStyle:{color:"#666",width:.5}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1}},{type:"value",position:"",axisLine:{lineStyle:{color:"#666",width:.5}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1}},{type:"value",position:"",axisLine:{lineStyle:{color:"#666",width:.5}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1}},{type:"value",position:"",axisLine:{lineStyle:{color:"#666",width:.5}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1}},{type:"value",position:"",axisLine:{lineStyle:{color:"#666",width:.5}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1}},{type:"value",position:"",axisLine:{lineStyle:{color:"#666",width:.5}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1}},{type:"value",position:"",axisLine:{lineStyle:{color:"#666",width:.5}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1}},{type:"value",position:"",axisLine:{lineStyle:{color:"#666",width:.5}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1}},{type:"value",position:"",axisLine:{lineStyle:{color:"#666",width:.5}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1}}],series:[{name:"",type:"line",smooth:!0,yAxisIndex:0,data:[],symbol:"circle",symbolSize:6,itemStyle:{normal:{color:"#0055ff",lineStyle:{color:"#0055ff",width:2}}}},{name:"",type:"line",smooth:!0,yAxisIndex:1,data:[],symbol:"circle",symbolSize:6,itemStyle:{normal:{color:"#ffab31",lineStyle:{color:"#ffab31",width:2}}}},{name:"",type:"line",smooth:!0,yAxisIndex:2,data:[],symbol:"circle",symbolSize:6,itemStyle:{normal:{color:"#39da61",lineStyle:{color:"#39da61",width:2}}}},{name:"",type:"line",smooth:!0,yAxisIndex:3,data:[],symbol:"circle",symbolSize:6,itemStyle:{normal:{color:"#ff6688",lineStyle:{color:"#ff6688",width:2}}}},{name:"",type:"line",smooth:!0,yAxisIndex:4,data:[],symbol:"circle",symbolSize:6,itemStyle:{normal:{color:"#a8a8ff",lineStyle:{color:"#a8a8ff",width:2}}}},{name:"",type:"line",smooth:!0,yAxisIndex:5,data:[],symbol:"circle",symbolSize:6,itemStyle:{normal:{color:"#de7af9",lineStyle:{color:"#de7af9",width:2}}}},{name:"",type:"line",smooth:!0,yAxisIndex:6,data:[],symbol:"circle",symbolSize:7,itemStyle:{normal:{color:"rgb(0, 118, 143)",lineStyle:{color:"rgb(0, 118, 143)",width:2}}}},{name:"",type:"line",smooth:!0,yAxisIndex:7,data:[],symbol:"circle",symbolSize:7,itemStyle:{normal:{color:"rgb(76, 180, 231)",lineStyle:{color:"rgb(76, 180, 231)",width:2}}}},{name:"",type:"line",smooth:!0,yAxisIndex:8,data:[],symbol:"circle",symbolSize:7,itemStyle:{normal:{color:"rgb(255, 192, 159)",lineStyle:{color:"rgb(255, 192, 159)",width:2}}}},{name:"",type:"line",smooth:!0,yAxisIndex:9,data:[],symbol:"circle",symbolSize:7,itemStyle:{normal:{color:"rgb(145, 78, 0)",lineStyle:{color:"rgb(145, 78, 0)",width:2}}}},{name:"",type:"line",smooth:!0,yAxisIndex:10,data:[],symbol:"circle",symbolSize:6,itemStyle:{normal:{color:"#ff746c",lineStyle:{color:"#ff746c",width:2}}}},{name:"",type:"line",smooth:!0,yAxisIndex:11,data:[],symbol:"circle",symbolSize:6,itemStyle:{normal:{color:"rgb(59, 203, 213)",lineStyle:{color:"rgb(59, 203, 213)",width:2}}}},{name:"",type:"line",smooth:!0,yAxisIndex:12,data:[],symbol:"circle",symbolSize:6,itemStyle:{normal:{color:"#ff4400",lineStyle:{color:"#ff4400",width:2}}}}]}),n={disabledDate:function(t){return t.getTime()>Date.now()||t.getTime()<16330176e5},shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近14天",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-12096e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}}]},r={tooltip:{trigger:"item"},legend:{bottom:"3%",left:"center"},series:[{type:"pie",radius:["45%","70%"],center:["50%","40%"],avoidLabelOverlap:!0,itemStyle:{borderRadius:0,borderColor:"#fff",borderWidth:2},label:{normal:{show:!0,position:"center",color:"#000",formatter:"汇总：123",fontSize:"18",fontWeight:300},emphasis:{show:!0}},emphasis:{label:{show:!1,fontSize:"40",fontWeight:"bold"}},labelLine:{show:!0},data:[{value:1048,name:"Search Engine",itemStyle:{color:"rgb(255, 192, 159)"}},{value:735,name:"Direct",itemStyle:{color:"rgb(145, 78, 0)"}},{value:580,name:"Email",itemStyle:{color:"#de7af9"}},{value:484,name:"Union Ads",itemStyle:{color:"rgb(0, 118, 143)"}},{value:300,name:"Video Ads",itemStyle:{color:"#a8a8ff"}}]}]}},"441c":function(t,e,a){"use strict";a.d(e,"e",(function(){return s})),a.d(e,"b",(function(){return n})),a.d(e,"f",(function(){return r})),a.d(e,"d",(function(){return o})),a.d(e,"c",(function(){return l})),a.d(e,"a",(function(){return c}));var i=a("b775");function s(t){return Object(i["a"])({url:"/plat/pager",method:"post",data:t})}function n(t){return Object(i["a"])({url:"/plat/add",method:"post",data:t})}function r(t){return Object(i["a"])({url:"/plat/update",method:"post",data:t})}function o(){return Object(i["a"])({url:"/plat/list",method:"get"})}function l(t){return Object(i["a"])({url:"/plat/accounts/"+t,method:"post"})}function c(t){return Object(i["a"])({url:"/plat/addDefinedPlat",method:"post",data:t})}},"5c25":function(t,e,a){t.exports=a.p+"static/img/no-data.5dbb23e5.png"},"6c4e":function(t,e,a){"use strict";a("0c06")},"8ea7":function(t,e,a){"use strict";a("1932")},9406:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-container"},[a(t.currentRole,{tag:"component"})],1)},s=[],n=a("5530"),r=a("5880"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-editor-container"},[a("dataList",{ref:"dataList"}),a("div",{staticClass:"search_chart"},[a("div",{staticClass:"left"},[a("div",{staticClass:"filter-container"},[a("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"240px"},attrs:{clearable:!1,type:"daterange","value-format":"yyyy-MM-dd",align:"left","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},on:{change:t.getSTime},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}}),a("el-select",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"filter-item",attrs:{disabled:"BUSINESS"===t.$store.state.user.roles[0],clearable:"",placeholder:"请选择商务"},model:{value:t.echartsParams.businessIds[0],callback:function(e){t.$set(t.echartsParams.businessIds,0,e)},expression:"echartsParams.businessIds[0]"}},t._l(t.businessList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.username,value:t.id}})})),1),"SUPER_ADMIN"===t.$store.state.user.roles[0]||"BUSINESS"===t.$store.state.user.roles[0]||"TECHNOLOGY"==t.$store.state.user.roles[0]||"MANAGEMENT"==t.$store.state.user.roles[0]||"BUSINESS_DIRECTOR"==t.$store.state.user.roles[0]||"OPERATOR_DIRECTOR"==t.$store.state.user.roles[0]?a("CustSelectOne",{staticClass:"filter-item",staticStyle:{width:"240px"},attrs:{model:t.echartsParams.adminUserIds[0],"all-data":t.adminList,width:240,word:"账户",clear:!0},on:{handleSelect:t.handleSelectAdmin}}):t._e(),a("CustSelectApp",{staticClass:"filter-item",staticStyle:{width:"240px"},attrs:{word:"应用",width:450,"all-data":t.departments1,"search-by-id":!0},on:{selectListhandle:t.selectListhandleApp}}),a("CustSelectApp",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"filter-item",staticStyle:{width:"240px"},attrs:{word:"广告位",width:450,"all-data":t.departments2,"search-by-id":!0},on:{selectListhandle:t.selectListhandlePlace}}),a("el-select",{staticClass:"filter-item",staticStyle:{width:"240px"},attrs:{multiple:"","collapse-tags":"",placeholder:"请选择广告样式"},model:{value:t.echartsParams.positionIdList,callback:function(e){t.$set(t.echartsParams,"positionIdList",e)},expression:"echartsParams.positionIdList"}},t._l(t.options1,(function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.id}})})),1),a("CustSelectApp",{staticClass:"filter-item",staticStyle:{width:"240px"},attrs:{word:"广告源",width:450,"all-data":t.departments3},on:{selectListhandle:t.selectListhandlePlat}}),a("el-select",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"filter-item",staticStyle:{width:"240px"},attrs:{multiple:"",placeholder:"请选择系统平台"},model:{value:t.echartsParams.osIdList,callback:function(e){t.$set(t.echartsParams,"osIdList",e)},expression:"echartsParams.osIdList"}},t._l(t.systemPlatformOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleSearch}},[t._v(" 查询 ")])],1),a("div",{staticClass:"earcth"},[a("div",{staticClass:"control"},[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"","collapse-tags":"",size:"mini"},on:{change:t.changeEcharts},model:{value:t.checkList[0],callback:function(e){t.$set(t.checkList,0,e)},expression:"checkList[0]"}},[a("div",{staticStyle:{height:"35px","line-height":"24px","font-size":"20px"},attrs:{slot:"prefix"},slot:"prefix"},[a("svg-icon",{style:{color:t.getLineColor(t.checkList[0])},attrs:{"icon-class":"line"}})],1),t._l(t.targetList,(function(e,i){return[a("el-option",{key:i,attrs:{disabled:e.value==t.checkList[1],value:e.value,label:e.label}})]}))],2),a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"","collapse-tags":"",size:"mini"},on:{change:t.changeEcharts},model:{value:t.checkList[1],callback:function(e){t.$set(t.checkList,1,e)},expression:"checkList[1]"}},[a("div",{staticStyle:{height:"35px","line-height":"24px","font-size":"20px"},attrs:{slot:"prefix"},slot:"prefix"},[a("svg-icon",{style:{color:t.getLineColor(t.checkList[1])},attrs:{"icon-class":"line"}})],1),t._l(t.targetList,(function(e,i){return[a("el-option",{key:i,attrs:{disabled:e.value==t.checkList[0],value:e.value,label:e.label}})]}))],2)],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingEcharts,expression:"loadingEcharts"}],ref:"box",staticClass:"eartch_left"})])]),a("div",{staticClass:"right"},[a("pieChart")],1)]),a("div",{staticClass:"table"},[a("div",{staticClass:"showbox"},[a("h2",[t._v("数据维度")]),"SUPER_ADMIN"===t.$store.state.user.roles[0]||"BUSINESS"===t.$store.state.user.roles[0]?a("el-checkbox",{attrs:{medium:""},model:{value:t.showTable.account,callback:function(e){t.$set(t.showTable,"account",e)},expression:"showTable.account"}},[a("h3",[t._v("账户名称")])]):t._e(),a("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{medium:""},model:{value:t.showTable.business,callback:function(e){t.$set(t.showTable,"business",e)},expression:"showTable.business"}},[a("h3",[t._v("商务名称")])]),a("el-checkbox",{attrs:{medium:""},model:{value:t.showTable.appname,callback:function(e){t.$set(t.showTable,"appname",e)},expression:"showTable.appname"}},[a("h3",[t._v("应用名称")])]),a("el-checkbox",{attrs:{medium:""},model:{value:t.showTable.os,callback:function(e){t.$set(t.showTable,"os",e)},expression:"showTable.os"}},[a("h3",[t._v("操作系统")])])],1),t.tableList.length>0?a("div",{staticClass:"table_box"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{"header-cell-style":{"background-color":"#f7f8fa",color:"#000"},stripe:"",data:t.tableList},on:{"sort-change":t.sortChange}},[a("el-table-column",{attrs:{align:"center",fixed:"",prop:"date","min-width":"120px",label:"日期"}}),t.showTable.account?a("el-table-column",{attrs:{align:"center",fixed:"",width:"180px",prop:"adminUserId",label:"账户名称"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(void 0!==a.adminUser?a.adminUser:"-")+" ")]}}],null,!1,2345516328)}):t._e(),t.showTable.appname?a("el-table-column",{attrs:{align:"center",fixed:"",width:"150px",prop:"appName",label:"应用名称"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("svg-icon",{attrs:{"icon-class":1===i.os?"android":0===i.os?"ios":""}}),t._v(" "+t._s(i.appName?i.appName:"-")+" ")]}}],null,!1,376459053)}):t._e(),t.showTable.os?a("el-table-column",{attrs:{align:"center",fixed:"",width:"150px",prop:"os",label:"操作系统"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(1==a.os?"Android":0==a.os?"IOS":"-")+" ")]}}],null,!1,3670268217)}):t._e(),a("el-table-column",{attrs:{align:"center",width:"150px",prop:"dau",label:"DAU","render-header":t.renderHeader},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(a.dau)+" ")]}}],null,!1,3388021455)}),t.hasPlatIdList?t._e():a("el-table-column",{attrs:{align:"center",width:"150px",prop:"deu",label:"DEU","render-header":t.renderHeader},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(a.deu)+" ")]}}],null,!1,1581943627)}),t.hasPlatIdList?t._e():a("el-table-column",{attrs:{align:"center",width:"150px",prop:"permeability",label:"渗透率","render-header":t.renderHeader},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(a.permeability+"%")+" ")]}}],null,!1,1748411420)}),a("el-table-column",{attrs:{align:"center",width:"150px",prop:"unitRevenue",label:"收益","render-header":t.renderHeader},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(a.unitRevenue?a.unitRevenue:"0")+" ")]}}],null,!1,1339548494)}),a("el-table-column",{attrs:{align:"center",width:"150px",prop:"arpu",label:"ARPDAU","render-header":t.renderHeader},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(a.arpu?a.arpu:"0")+" ")]}}],null,!1,3226116270)}),a("el-table-column",{attrs:{align:"center",width:"150px",prop:"arpDeu",label:"ARPDEU","render-header":t.renderHeader},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(a.arpDeu?a.arpDeu:"0")+" ")]}}],null,!1,4062480398)}),t.hasPlatIdList?t._e():a("el-table-column",{attrs:{align:"center",width:"150px",prop:"request",label:"流量请求",sortable:"custom","render-header":t.renderHeader}}),a("el-table-column",{attrs:{align:"center",width:"150px",prop:"impress",label:"展示",sortable:"custom","render-header":t.renderHeader}}),a("el-table-column",{attrs:{align:"center",width:"150px",prop:"aipau",label:"展示 / DAU","render-header":t.renderHeader},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(0==a.aipau?0:(a.aipau+0).toFixed(2))+" ")]}}],null,!1,110919124)}),t.hasPlatIdList?t._e():a("el-table-column",{attrs:{align:"center",width:"150px",prop:"aipu",label:"展示 / DEU","render-header":t.renderHeader},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(0==a.aipu?0:(a.aipu+0).toFixed(2))+" ")]}}],null,!1,1036688212)}),a("el-table-column",{attrs:{align:"center",width:"150px",prop:"income",label:"预估收益",sortable:"custom","render-header":t.renderHeader},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(0==a.income?0:(a.income+0).toFixed(2))+" ")]}}],null,!1,393531412)}),a("el-table-column",{attrs:{align:"center",width:"150px",prop:"estimatedRevenueEcpm",label:"预估eCPM",sortable:"custom","render-header":t.renderHeader},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(0==a.estimatedRevenueEcpm?0:(a.estimatedRevenueEcpm+0).toFixed(2))+" ")]}}],null,!1,3937499028)}),a("el-table-column",{attrs:{align:"center",width:"150px",prop:"unitEcpm",label:"eCPM","render-header":t.renderHeader},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(0==a.unitEcpm?0:a.unitEcpm?(+a.unitEcpm).toFixed(2):"-")+" ")]}}],null,!1,3600789781)})],1),t.tableList.length>0?a("el-pagination",{staticStyle:{margin:"30px 0 0 0"},attrs:{"current-page":t.echartsParams.page,"page-sizes":[5,10,20,50],"page-size":t.echartsParams.limit,layout:"total,sizes,prev,pager,next,jumper",total:t.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}):t._e()],1):a("Empty")],1)],1)},l=[],c=a("2909"),u=a("1da1"),d=(a("96cf"),a("d81d"),a("d3b7"),a("159b"),a("99af"),a("caad"),a("2532"),a("b0c0"),a("b680"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"panel-group",attrs:{gutter:20}},t._l(t.menuList,(function(e,i){return a("el-col",{key:i,staticClass:"card-panel-col",attrs:{span:6}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"card-panel-icon-wrapper",class:e.icon},[a("svg-icon",{attrs:{"icon-class":"money","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" "+t._s(e.fullName)+" ")]),a("div",{staticClass:"box"},[t._v(" "+t._s(e.num)+" ")])])])])})),1)}),p=[],h={data:function(){return{menuList:[{fullName:"今日预估收益（元）",num:0,icon:"icon-today"},{fullName:"昨日收益（元）",num:0,icon:"icon-yesterday"},{fullName:"前天收益（元）",num:0,icon:"icon-week"},{fullName:"本月累计收益（元）",num:0,icon:"icon-month"},{fullName:"上月累计收益（元）",num:0,icon:"icon-all"}]}},created:function(){},methods:{initData:function(t){this.menuList=[],this.menuList.push({fullName:"今日预估收益（元）",num:t.today,icon:"icon-today"}),this.menuList.push({fullName:"昨日收益（元）",num:t.yesterday,icon:"icon-yesterday"}),this.menuList.push({fullName:"前天收益（元）",num:t.beforeYesterday,icon:"icon-week"}),this.menuList.push({fullName:"本月累计收益（元）",num:t.month,icon:"icon-month"}),this.menuList.push({fullName:"上月累计收益（元）",num:t.lastMonth,icon:"icon-all"})}}},m=h,f=(a("8ea7"),a("2877")),b=Object(f["a"])(m,d,p,!1,null,"19d3cca8",null),y=b.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pie-chart-container"},[a("div",{staticClass:"control"},[a("div",[a("el-date-picker",{staticStyle:{width:"250px"},attrs:{clearable:!1,type:"daterange","value-format":"yyyy-MM-dd",align:"left","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},on:{change:t.getSTime},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1),a("div",{staticClass:"select"},[a("el-select",{staticClass:"control_item",staticStyle:{width:"150px"},attrs:{placeholder:"请选择维度"},on:{change:t.getChartData},model:{value:t.query.dimension,callback:function(e){t.$set(t.query,"dimension",e)},expression:"query.dimension"}},["SUPER_ADMIN"==t.$store.getters.roles[0]?a("el-option",{attrs:{label:"Top账号",value:"1"}}):t._e(),a("el-option",{attrs:{label:"Top应用",value:"2"}}),a("el-option",{attrs:{label:"Top广告样式",value:"3"}}),a("el-option",{attrs:{label:"Top广告源",value:"4"}})],1),a("el-select",{staticClass:"control_item",staticStyle:{width:"150px"},attrs:{placeholder:""},on:{change:t.getChartData},model:{value:t.query.code,callback:function(e){t.$set(t.query,"code",e)},expression:"query.code"}},[a("el-option",{attrs:{label:"收益",value:"unitRevenue"}}),a("el-option",{attrs:{label:"预估收益",value:"income"}}),"1"==t.query.dimension||"2"==t.query.dimension?a("el-option",{attrs:{label:"DAU",value:"dau"}}):t._e()],1)],1)]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],ref:"chart",staticClass:"chart"})])},v=[],w=a("2c76"),L=a("3620"),x=a("b775");function S(t){return Object(x["a"])({url:"/dashboard/pie-dimension",method:"post",data:t})}var A=a("164e"),k={name:"PieChart",data:function(){return{time:[],pickerOptions:{disabledDate:function(t){return t.getTime()>Date.now()||t.getTime()<16330176e5}},query:{startDate:"",endDate:"",dimension:"1",code:"unitRevenue"},myChart:null,option:L["c"],colorList:["#7ACDED","#EF6666","#FAC858","#91CC75","#5470C6","#f40"],isLoading:!1,iscreat:!0}},created:function(){},destroyed:function(){this.myEcharts.dispose(),window.removeEventListener("resize",this.getSize)},mounted:function(){this.echartsInit(),"SUPER_ADMIN"==this.$store.getters.roles[0]?this.query.dimension="1":this.query.dimension="2",this.getDate(),this.getChartData(),window.addEventListener("resize",this.getSize),this.getSize()},methods:{getSize:function(){this.iscreat||this.myEcharts.resize(),this.iscreat=!1},getDate:function(){var t=Object(w["a"])(Date.now()-864e5),e=Object(w["a"])(Date.now()-6048e5);this.time=[e,t],this.query.startDate=this.time[0],this.query.endDate=this.time[1]},getSTime:function(){this.query.startDate=this.time[0],this.query.endDate=this.time[1],this.getChartData()},echartsInit:function(){var t=A.init(this.$refs.chart);t.setOption(this.option),this.myEcharts=t},getChartData:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return 3!=t.query.dimension&&4!=t.query.dimension||"dau"!=t.query.code||(t.query.code="unitRevenue"),t.isLoading=!0,e.next=4,S(t.query);case 4:a=e.sent,t.chartData=a.data,t.isLoading=!1,t.changecode();case 8:case"end":return e.stop()}}),e)})))()},changecode:function(){var t=this;if(!this.chartData.list||0==this.chartData.list.length)return this.option.series[0].data=[],this.option.series[0].label.normal.formatter="汇总：-",void this.echartsInit();var e=0;"unitRevenue"==this.query.code?(e=this.chartData.unitRevenueSum,this.option.series[0].label.normal.formatter="汇总：￥".concat(this.chartData.unitRevenueSum),this.option.series[0].data=[],this.chartData.list.forEach((function(e,a){t.option.series[0].data.push({name:"",value:e.unitRevenue,itemStyle:{color:t.colorList[a]}})}))):"dau"==this.query.code?(e=this.chartData.dauSum,this.option.series[0].label.normal.formatter="汇总：".concat(this.chartData.dauSum),this.option.series[0].data=[],this.chartData.list.forEach((function(e,a){t.option.series[0].data.push({name:"",value:e.dau,itemStyle:{color:t.colorList[a]}})}))):"income"==this.query.code&&(e=this.chartData.incomeSum,this.option.series[0].label.normal.formatter="汇总：￥".concat(this.chartData.incomeSum),this.option.series[0].data=[],this.chartData.list.forEach((function(e,a){t.option.series[0].data.push({name:"",value:e.income,itemStyle:{color:t.colorList[a]}})}))),this.chartData.list.forEach((function(e,a){"1"==t.query.dimension?t.option.series[0].data[a].name=e.company:"2"==t.query.dimension?t.option.series[0].data[a].name=e.appName:"3"==t.query.dimension?t.option.series[0].data[a].name=e.positionName:"4"==t.query.dimension&&(t.option.series[0].data[a].name=e.platName)})),this.option.tooltip.formatter=function(t){return t.marker+"<span>&nbsp;&nbsp;&nbsp;</ span>"+t.name+"<span>&nbsp;&nbsp;&nbsp;</ span>"+t.data.value+"<span>&nbsp;&nbsp;&nbsp;</ span>"+(0==e?0:(t.data.value/e*100).toFixed(2))+"%"},this.echartsInit()}}},I=k,E=(a("1762"),Object(f["a"])(I,g,v,!1,null,"30540620",null)),P=E.exports;function O(t){return Object(x["a"])({url:"/dashboard/overview",method:"post",data:t})}function _(t){return Object(x["a"])({url:"/dashboard/trend",method:"post",data:t})}function D(){return Object(x["a"])({url:"/dashboard/getBusinessList",method:"get"})}function j(t){return Object(x["a"])({url:"/dashboard/report",method:"post",data:t})}var T=a("244d"),C=a("b562"),R=a("2934"),$=a("c37d"),U=a("59c5"),B=a("1af9"),N=a("441c"),q=a("fa47"),z=a("8280"),M=a("164e"),F={name:"Admin",components:{dataList:y,CustSelectApp:U["a"],CustSelectOne:B["a"],Empty:q["a"],tips:z["a"],pieChart:P},data:function(){return{iscreat:!0,myEcharts:{},loadingEcharts:!1,echartsParams:{adminUserIds:[],businessIds:[],dateStart:"",dateEnd:"",appIdList:[],appIdListExclude:1,placeIdList:[],placeIdListExclude:1,positionIdList:[],positionIdListExclude:1,platIdList:[],platIdListExclude:1,osIdList:[],osIdListExclude:1,groupByList:["a.date"],limit:10,page:1},time:[],income:{beforeYesterday:0,beforeYesterdayLabel:"",lastMonth:0,lastMonthLabel:"",month:0,monthLabel:"",yesterday:0,yesterdayLabel:""},chartOption:{},chartData:null,pickerOptions:L["a"],checkList:["unitRevenue","dau"],ecjartsList:[],nodataOption:{},option:L["b"],departments1:[],department1:[],options1:[],options2:[],departments2:[],departments3:[],department2:[],department3:[],selfstyle:{textAlign:"right",paddingRight:"10px"},appOptions:[],adverStyleOptions:[],systemPlatformOptions:[{label:"Android",value:"1"},{label:"IOS",value:"0"}],adverStyleVal:"",systemPlatform:[],businessList:[],adminList:[],tableList:[],sum:{},loading:!1,showTable:{account:!1,business:!1,os:!1,appname:!1},timer:null,totalCount:1,businessListforTable:[],adminListforTable:[],hasPlatIdList:!1,targetList:[{label:"DAU",value:"dau",color:"#ffab31"},{label:"DEU",value:"deu",color:"rgb(76, 180, 231)"},{label:"收益",value:"unitRevenue",color:"#de7af9"},{label:"eCPM",value:"ecpm",color:"rgb(0, 118, 143)"},{label:"ARPDAU",value:"arpu",color:"#ff746c"},{label:"ARPDEU",value:"arpDeu",color:"#ff4400"},{label:"预估收益",value:"estimatedRevenue",color:"#39da61"},{label:"预估eCPM",value:"estimatedRevenueEcpm",color:"#ff6688"},{label:"流量请求",value:"request",color:"rgb(145, 78, 0)"},{label:"展示",value:"impression",color:"#0055ff"},{label:"展示 / DAU",value:"aipau",color:"#a8a8ff"},{label:"渗透率",value:"permeability",color:"rgb(255, 192, 159)"},{label:"展示 / DEU",value:"aipu",color:"rgb(59, 203, 213)"}],tableKey:(new Date).getTime()}},computed:{title:function(){return this.$store.getters.title}},watch:{"echartsParams.adminUserIds":{handler:function(t){""===t[0]&&(this.echartsParams.adminUserIds=[]),t||this.getAdminAndAppListByBusinessId({businessId:this.echartsParams.businessIds[0]}),this.getAppListByAdminId({id:this.echartsParams.adminUserIds[0]})}},departments1:{handler:function(t){if(t.length>0){var e=t.map((function(t){return t.id}));this.appToAdvert(e)}else this.departments2=[]}},showTable:{handler:function(t){var e=this;this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout((function(){e.handleSearch()}),600)},deep:!0}},created:function(){},beforeDestroy:function(){window.removeEventListener("resize",this.getSize)},mounted:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.getDate(),e.next=3,t.getListforTable();case 3:t.getIncome(),t.echartsInit(),t.getApp(),t.getPlace(),t.getPosition(),t.getPlatOptionList(),t.getBusinessList(),t.getHomeEcharts(),t.getTableList(),t.nodataOption=Object.assign({},t.option),window.addEventListener("resize",t.getSize),t.getSize();case 15:case"end":return e.stop()}}),e)})))()},methods:{sortChange:function(t){t.column;var e=t.prop,a=t.order;a?(this.echartsParams.prop="request"==e?1:"income"==e?5:"estimatedRevenueEcpm"==e?6:"impress"==e?8:"",this.echartsParams.order="ascending"==a?"asc":"desc"):(this.echartsParams.prop=null,this.echartsParams.order=null),this.getTableList()},getLineColor:function(t){var e="";return this.targetList.forEach((function(a){a.value==t&&(e=a.color)})),e},renderHeader:function(t,e){var a=e.column;e.$index;return"dau"===a.property?this.$createElement("tips",{props:{content:"每天打开应用的独立用户数",title:a.label,isShow:!0}}):"deu"===a.property?this.$createElement("tips",{props:{content:"每天观看过广告的独立用户数",title:a.label,isShow:!0}}):"permeability"===a.property?this.$createElement("tips",{props:{content:"每天观看过广告的用户占比，渗透率=DEU/DAU",title:a.label,isShow:!0}}):"arpu"===a.property?this.$createElement("tips",{props:{content:"ARPDAU = 收益 / DAU",title:a.label,isShow:!0}}):"arpDeu"===a.property?this.$createElement("tips",{props:{content:"ARPDEU = 收益 / DEU",title:a.label,isShow:!0}}):"aipau"===a.property?this.$createElement("tips",{props:{content:"人均展示次数",title:a.label,isShow:!0}}):"aipu"===a.property?this.$createElement("tips",{props:{content:"观看过广告的用户人均展示次数",title:a.label,isShow:!0}}):"request"===a.property?this.$createElement("tips",{props:{content:"应用向".concat(this.title,"发送请求的次数，一次流量请求可能触发多次广告请求"),title:a.label,isShow:!0}}):"requestFilledRate"===a.property?this.$createElement("tips",{props:{content:"应用向".concat(this.title,"发送请求后，响应成功的占比"),title:a.label,isShow:!0}}):"income"===a.property?this.$createElement("tips",{props:{content:"预估收益=SUM(代码位人工填写的eCPM价格*".concat(this.title,"统计的展示/1000)"),title:a.label,isShow:!0}}):"estimatedRevenueEcpm"===a.property?this.$createElement("tips",{props:{content:"（预估收益/".concat(this.title,"统计的展示）*1000"),title:a.label,isShow:!0}}):"impress"===a.property?this.$createElement("tips",{props:{content:"".concat(this.title,"统计的广告曝光次数，由于统计口径差异、网络丢包等因素，").concat(this.title,"统计的展示数据与广告平台展示数据可能存在差异"),title:a.label,isShow:!0}}):"impressRate"===a.property?this.$createElement("tips",{props:{content:"".concat(this.title,"收到来自广告平台的广告返回后，展示成功的占比。公式为 展示率 = (展示/填充)"),title:a.label,isShow:!0}}):"click"===a.property?this.$createElement("tips",{props:{content:"".concat(this.title,"统计的广告点击数，由于部分广告平台不提供点击回调，").concat(this.title,"统计的点击数据与广告平台点击数据可能存在差异"),title:a.label,isShow:!0}}):"clickRate"===a.property?this.$createElement("tips",{props:{content:"".concat(this.title,"统计的点击率，点击率=点击数/展示数"),title:a.label,isShow:!0}}):"impressionGap"===a.property?this.$createElement("tips",{props:{content:"".concat(this.title,"统计展示与广告平台统计展示的差异，公式为 展示Gap=(展示-展示API)/展示API"),title:a.label,isShow:!0}}):"clickGap"===a.property?this.$createElement("tips",{props:{content:"".concat(this.title,"统计点击与广告平台统计点击的差异，公式为 点击Gap=(点击-点击API)/点击API"),title:a.label,isShow:!0}}):"unitRevenue"===a.property?this.$createElement("tips",{props:{content:"".concat(this.title,"通过Reporting API向广告平台拉取到的收益"),title:a.label,isShow:!0}}):"unitImpression"===a.property?this.$createElement("tips",{props:{content:"".concat(this.title,"通过Reporting API向广告平台拉取到的展示"),title:a.label,isShow:!0}}):"unitClick"===a.property?this.$createElement("tips",{props:{content:"".concat(this.title,"通过Reporting API向广告平台拉取到的点击"),title:a.label,isShow:!0}}):"unitEcpm"===a.property?this.$createElement("tips",{props:{content:"".concat(this.title,"通过Reporting API向广告平台拉取到的收益和展示API计算出eCPM API，公式：（收益/展示API）*1000"),title:a.label,isShow:!0}}):"unitCtr"===a.property?this.$createElement("tips",{props:{content:"点击API/展示API",title:a.label,isShow:!0}}):"unitRequest"===a.property?this.$createElement("tips",{props:{content:"".concat(this.title,"通过Reporting API向广告平台拉取到的广告请求数，部分平台不提供此数据"),title:a.label,isShow:!0}}):"unitFilledRate"===a.property?this.$createElement("tips",{props:{content:"".concat(this.title,"通过Reporting API向广告平台拉取到的填充率，部分平台不提供此数据"),title:a.label,isShow:!0}}):"advRequest"===a.property?this.$createElement("tips",{props:{content:"汇总行表示流量请求，即应用向".concat(this.title,"发起请求的次数；其他行表示广告请求，即").concat(this.title,"向广告平台发起请求的次数"),title:a.label,isShow:!0}}):"advRequestFilledRate"===a.property?this.$createElement("tips",{props:{content:"汇总行表示流量填充率，即应用向".concat(this.title,"发送请求后返回成功的占比；其余行表示广告填充率，即").concat(this.title,"向广告平台发送请求后返回成功的占比"),title:a.label,isShow:!0}}):"newLogin"===a.property?this.$createElement("tips",{props:{content:"首次使用应用的用户数",title:a.label,isShow:!0}}):"newUserRate"===a.property?this.$createElement("tips",{props:{content:"首次使用应用的用户占比，计算公式：新增用户/DAU",title:a.label,isShow:!0}}):this.$createElement("tips",{props:{content:"",title:a.label,isShow:!1}})},getListforTable:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(C["b"])({businessId:""});case 2:if(a=e.sent,200===a.code){e.next=5;break}return e.abrupt("return");case 5:t.adminListforTable=a.data.adminList;case 6:case"end":return e.stop()}}),e)})))()},appToAdvert:function(t){var e=this;0!==t.length&&Object($["e"])(t).then((function(t){e.departments2=t.data}))},selectListhandlePlat:function(t){this.echartsParams.platIdList=Object(c["a"])(t)},selectListhandlePlace:function(t){this.echartsParams.placeIdList=Object(c["a"])(t)},handleSelectAdmin:function(t){this.echartsParams.adminUserIds=t?[t]:[]},selectListhandleApp:function(t){if(this.echartsParams.appIdList=Object(c["a"])(t),t.length>0)this.appToAdvert(t);else{var e=this.departments1.map((function(t){return t.id}));this.appToAdvert(e)}},handleSizeChange:function(t){this.echartsParams.limit=t,this.echartsParams.page=1,this.getTableList()},handleCurrentChange:function(t){this.echartsParams.page=t,this.getTableList()},getTableList:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var a,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.hasPlatIdList=!1,t.echartsParams.platIdList.length>0&&(t.hasPlatIdList=!0,"deu"!=t.checkList[0]&&"request"!=t.checkList[0]&&"permeability"!=t.checkList[0]&&"aipu"!=t.checkList[0]&&(t.checkList[0]="deu"),"deu"!=t.checkList[1]&&"request"!=t.checkList[1]&&"permeability"!=t.checkList[1]&&"aipu"!=t.checkList[1]&&("deu"==t.checkList[0]?t.checkList[1]="request":t.checkList[1]="deu")),t.loading=!0,!t.echartsParams.groupByList.includes("app.admin_user")&&t.showTable.account&&t.echartsParams.groupByList.push("app.admin_user"),!t.echartsParams.groupByList.includes("u.business_id")&&t.showTable.business&&t.echartsParams.groupByList.push("u.business_id"),!t.echartsParams.groupByList.includes("app.os")&&t.showTable.os&&t.echartsParams.groupByList.push("app.os"),!t.echartsParams.groupByList.includes("a.app_id")&&t.showTable.appname&&t.echartsParams.groupByList.push("a.app_id"),e.next=9,j(t.echartsParams);case 9:if(a=e.sent,t.echartsParams.groupByList=["a.date"],200===a.code){e.next=13;break}return e.abrupt("return");case 13:if(a.data){e.next=17;break}return t.tableList=[],t.loading=!1,e.abrupt("return");case 17:if(0!==a.data.items.length){e.next=20;break}return t.tableList=[],e.abrupt("return");case 20:for(t.sum=a.data.aggregate,t.sum.date="汇总",t.sum.os="-",t.tableList=a.data.items,i=0;i<t.adminListforTable.length;i++)for(s=0;s<t.tableList.length;s++)t.adminListforTable[i].id===t.tableList[s].adminUserId&&(t.tableList[s].adminUser=t.adminListforTable[i].username),1===t.tableList[s].adminUserId&&(t.tableList[s].adminUser="超级管理员");t.totalCount=a.data.total,t.tableList.unshift(t.sum),t.loading=!1,t.tableKey=(new Date).getTime();case 29:case"end":return e.stop()}}),e)})))()},getBusinessList:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:if(a=e.sent,200===a.code){e.next=5;break}return e.abrupt("return");case 5:t.businessList=a.data,"BUSINESS"===t.$store.state.user.roles[0]&&(t.echartsParams.businessIds[0]=t.businessList[0].id,t.getHomeEcharts(),t.getAdminAndAppListByBusinessId({businessId:t.echartsParams.businessIds[0]}));case 7:case"end":return e.stop()}}),e)})))()},getAppListByAdminId:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.id){a.next=3;break}return e.getApp(),a.abrupt("return");case 3:return a.next=5,Object(C["d"])(t);case 5:if(i=a.sent,200===i.code){a.next=8;break}return a.abrupt("return");case 8:i.data?e.departments1=i.data:e.departments1=[];case 9:case"end":return a.stop()}}),a)})))()},getAdminAndAppListByBusinessId:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function a(){var i,s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(C["b"])(t);case 2:if(i=a.sent,200===i.code){a.next=5;break}return a.abrupt("return");case 5:for(e.departments1=i.data.appList,e.departments1=i.data.appList,i.data.adminList.forEach((function(t){t.name=t.company,t.id=""+t.id})),e.adminList=i.data.adminList,s=0;s<e.adminList.length;s++)for(n=0;n<e.tableList.length;n++)e.adminList[s].id===e.tableList[n].adminUserId&&(e.tableList[n].adminUser=e.adminList[s].username);e.departments1.length>0?e.departments1.map((function(t){return null===t?void 0:t.id})):e.departments2=[];case 11:case"end":return a.stop()}}),a)})))()},getSize:function(){this.iscreat||this.myEcharts.resize(),this.iscreat=!1},getIncome:function(){var t=this;O().then((function(e){if(200!==e.code)return t.$message.error(e.msg);t.$nextTick((function(){t.$refs.dataList&&t.$refs.dataList.initData(e.data)}))}))},getDate:function(){var t=Object(w["a"])(Date.now()-864e5),e=Object(w["a"])(Date.now()-6048e5);this.time=[e,t],this.echartsParams.dateStart=this.time[0],this.echartsParams.dateEnd=this.time[1]},getApp:function(){var t=this;""===this.echartsParams.businessIds[0]?Object(C["c"])().then((function(e){e.data?t.departments1=e.data:t.departments1=[]})):this.getAdminAndAppListByBusinessId({businessId:this.echartsParams.businessIds[0]})},getPlace:function(){var t=this;Object(T["b"])().then((function(e){200===e.code&&(e.data?t.departments2=e.data:t.departments2=[])}))},getPosition:function(){var t=this;Object(R["a"])().then((function(e){t.options1=e.data}))},getPlatOptionList:function(){var t=this;Object(N["d"])().then((function(e){t.departments3=e.data}))},getSTime:function(){this.time?(this.echartsParams.dateStart=this.time[0],this.echartsParams.dateEnd=this.time[1]):(this.echartsParams.dateStart="",this.echartsParams.dateEnd="",this.time=[])},handleSearch:function(){this.echartsParams.page=1,""===this.echartsParams.businessIds[0]&&(this.echartsParams.businessIds=[]),this.echartsParams.groupByList=[],this.echartsParams.groupByList.push("a.date"),this.showTable.business&&this.echartsParams.groupByList.push("u.business_id"),this.showTable.os&&this.echartsParams.groupByList.push("app.os"),this.showTable.appname&&this.echartsParams.groupByList.push("a.app_id"),this.showTable.account&&this.echartsParams.groupByList.push("app.admin_user"),this.getHomeEcharts(),this.getTableList()},echartsInit:function(){var t=M.init(this.$refs.box);t.setOption(this.option),this.myEcharts=t},getHomeEcharts:function(){var t=this;this.hasPlatIdList=!1,this.echartsParams.platIdList.length>0&&(this.hasPlatIdList=!0),this.loadingEcharts=!0,_(this.echartsParams).then((function(e){if(200===e.code){if(!e.data){for(var a=0;a<t.option.series.length;a++)t.option.series[a].data=[],t.option.series[a].name="";return t.option=Object.assign({},t.nodataOption),t.loadingEcharts=!1,t.echartsInit(),void(t.ecjartsList=[])}setTimeout((function(){t.loadingEcharts=!1}),400),t.option.xAxis.data=e.data.lable,e.data.list.forEach((function(t){"estimatedRevenue"===t.field&&t.data.forEach((function(e,a){t.data[a]=e.toFixed(2)})),"unitRevenue"===t.field&&t.data.forEach((function(e,a){t.data[a]=e.toFixed(2)}))})),t.ecjartsList=e.data.list,t.changeEcharts()}}))},changeEcharts:function(){for(var t=0;t<this.option.series.length;t++)this.option.series[t].data=[],this.option.series[t].name="";for(var e=0;e<this.checkList.length;e++)for(var a=0;a<this.ecjartsList.length;a++)if(this.checkList[e]===this.ecjartsList[a].field){this.option.series[a].data=this.ecjartsList[a].data,this.option.series[a].name=this.ecjartsList[a].name;var i=this.option.series[a].yAxisIndex;this.checkList.length>=3?(this.option.yAxis[i].position="",this.option.yAxis[i].splitLine.show=!1,this.option.yAxis[i].axisTick.show=!1,this.option.yAxis[i].axisLabel.show=!1,0===e&&(this.option.yAxis[i].splitLine.show=!0)):(this.option.yAxis[i].axisTick.show=!0,this.option.yAxis[i].axisLabel.show=!0,0==e?(this.option.yAxis[i].splitLine.show=!0,this.option.yAxis[i].position="left"):1==e?(this.option.yAxis[i].splitLine.show=!1,this.option.yAxis[i].position="right"):this.option.yAxis[i].splitLine.show=!1)}this.echartsInit()}}},H=F,Y=(a("6c4e"),Object(f["a"])(H,o,l,!1,null,"9b1bc1c0",null)),G=Y.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},K=[],V={name:"DashboardUser"},W=V,Q=Object(f["a"])(W,J,K,!1,null,"fed3b346",null),X=Q.exports,Z={name:"Dashboard",components:{dashboardAdmin:G,dashboardUser:X},data:function(){return{currentRole:"dashboardAdmin"}},computed:Object(n["a"])({},Object(r["mapGetters"])(["roles"])),created:function(){this.currentRole="dashboardAdmin"}},tt=Z,et=Object(f["a"])(tt,i,s,!1,null,"6dcb8f59",null);e["default"]=et.exports},a434:function(t,e,a){"use strict";var i=a("23e7"),s=a("23cb"),n=a("a691"),r=a("50c4"),o=a("7b0b"),l=a("65f0"),c=a("8418"),u=a("1dde"),d=a("ae40"),p=u("splice"),h=d("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,f=Math.min,b=9007199254740991,y="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!p||!h},{splice:function(t,e){var a,i,u,d,p,h,g=o(this),v=r(g.length),w=s(t,v),L=arguments.length;if(0===L?a=i=0:1===L?(a=0,i=v-w):(a=L-2,i=f(m(n(e),0),v-w)),v+a-i>b)throw TypeError(y);for(u=l(g,i),d=0;d<i;d++)p=w+d,p in g&&c(u,d,g[p]);if(u.length=i,a<i){for(d=w;d<v-i;d++)p=d+i,h=d+a,p in g?g[h]=g[p]:delete g[h];for(d=v;d>v-i+a;d--)delete g[d-1]}else if(a>i)for(d=v-i;d>w;d--)p=d+i-1,h=d+a-1,p in g?g[h]=g[p]:delete g[h];for(d=0;d<a;d++)g[d+w]=arguments[d+2];return g.length=v-i+a,u}})},b562:function(t,e,a){"use strict";a.d(e,"c",(function(){return s})),a.d(e,"e",(function(){return n})),a.d(e,"f",(function(){return r})),a.d(e,"a",(function(){return o})),a.d(e,"k",(function(){return l})),a.d(e,"j",(function(){return c})),a.d(e,"b",(function(){return u})),a.d(e,"d",(function(){return d})),a.d(e,"i",(function(){return p})),a.d(e,"h",(function(){return h})),a.d(e,"g",(function(){return m}));var i=a("b775");function s(){return Object(i["a"])({url:"/app/list",method:"get"})}function n(t){return Object(i["a"])({url:"/app/getAppListByRole",method:"post",data:t})}function r(t){return Object(i["a"])({url:"/app/pager",method:"post",data:t})}function o(t){return Object(i["a"])({url:"/app/add",method:"post",data:t})}function l(t){return Object(i["a"])({url:"/app/update",method:"post",data:t})}function c(t){return Object(i["a"])({url:"/aggregate/platformList/"+t,method:"post"})}function u(t){return Object(i["a"])({url:"/dashboard/getAdminAndAppListByBusinessId",method:"post",data:t})}function d(t){return Object(i["a"])({url:"/dashboard/getAppListByAdminId",method:"post",data:t})}function p(){return Object(i["a"])({url:"/user/adminList",method:"get"})}function h(){return Object(i["a"])({url:"/app/getMediaAppList",method:"get"})}function m(t){return Object(i["a"])({url:"/app/getApplistByUserIdAndOs",method:"post",data:t})}},c37d:function(t,e,a){"use strict";a.d(e,"l",(function(){return s})),a.d(e,"b",(function(){return n})),a.d(e,"r",(function(){return r})),a.d(e,"i",(function(){return o})),a.d(e,"j",(function(){return l})),a.d(e,"h",(function(){return c})),a.d(e,"g",(function(){return u})),a.d(e,"e",(function(){return d})),a.d(e,"f",(function(){return p})),a.d(e,"c",(function(){return h})),a.d(e,"d",(function(){return m})),a.d(e,"t",(function(){return f})),a.d(e,"u",(function(){return b})),a.d(e,"n",(function(){return y})),a.d(e,"o",(function(){return g})),a.d(e,"p",(function(){return v})),a.d(e,"a",(function(){return w})),a.d(e,"q",(function(){return L})),a.d(e,"k",(function(){return x})),a.d(e,"s",(function(){return S})),a.d(e,"m",(function(){return A}));var i=a("b775");function s(t){return Object(i["a"])({url:"/report/fullReport",method:"post",data:t})}function n(){return Object(i["a"])({url:"/plat/platList",method:"get"})}function r(t){return Object(i["a"])({url:"/plat/platListByUser",method:"post",data:t})}function o(){return Object(i["a"])({url:"/aggregate/groupList",method:"get"})}function l(){return Object(i["a"])({url:"/app/channelList",method:"get"})}function c(){return Object(i["a"])({url:"/aggregate/sourceList",method:"get"})}function u(t){return Object(i["a"])({url:"/aggregate/groupListByApp",method:"post",data:t})}function d(t){return Object(i["a"])({url:"/place/listByAppIds",method:"post",data:t})}function p(t){return Object(i["a"])({url:"aggregate/sourceListByApp",method:"post",data:t})}function h(t){return Object(i["a"])({url:"/aggregate/sourceListByAdplace",method:"post",data:t})}function m(t){return Object(i["a"])({url:"aggregate/groupListByAdplace",method:"post",data:t})}function f(t){return Object(i["a"])({url:"/userBehavior/report",method:"post",data:t})}function b(t){return Object(i["a"])({url:"/userBehavior/trend",method:"post",data:t})}function y(t){return Object(i["a"])({url:"/report/hourTrend",method:"post",data:t})}function g(t){return Object(i["a"])({url:"/report/hourReport",method:"post",data:t})}function v(t){return Object(i["a"])({url:"/report/upload",method:"post",data:t})}function w(t){return Object(i["a"])({url:"/report/record",method:"post",data:t})}function L(t){return Object(i["a"])({url:"/app/tradeList",method:"get",data:t})}function x(t){return Object(i["a"])({url:"/report/getMediaReport",method:"post",data:t})}function S(t){return Object(i["a"])({url:"/place/updateMediaReportInfo",method:"post",data:t})}function A(t){return Object(i["a"])({url:"/report/chart",method:"post",data:t})}},e9c4:function(t,e,a){var i=a("23e7"),s=a("d066"),n=a("d039"),r=s("JSON","stringify"),o=/[\uD800-\uDFFF]/g,l=/^[\uD800-\uDBFF]$/,c=/^[\uDC00-\uDFFF]$/,u=function(t,e,a){var i=a.charAt(e-1),s=a.charAt(e+1);return l.test(t)&&!c.test(s)||c.test(t)&&!l.test(i)?"\\u"+t.charCodeAt(0).toString(16):t},d=n((function(){return'"\\udf06\\ud834"'!==r("\udf06\ud834")||'"\\udead"'!==r("\udead")}));r&&i({target:"JSON",stat:!0,forced:d},{stringify:function(t,e,a){var i=r.apply(null,arguments);return"string"==typeof i?i.replace(o,u):i}})}}]);