(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-50481afb"],{"0bc2":function(e,t,o){"use strict";o.d(t,"j",(function(){return n})),o.d(t,"a",(function(){return a})),o.d(t,"h",(function(){return s})),o.d(t,"k",(function(){return i})),o.d(t,"m",(function(){return c})),o.d(t,"c",(function(){return d})),o.d(t,"d",(function(){return u})),o.d(t,"b",(function(){return l})),o.d(t,"i",(function(){return p})),o.d(t,"f",(function(){return m})),o.d(t,"e",(function(){return h})),o.d(t,"g",(function(){return f})),o.d(t,"l",(function(){return v}));var r=o("b775");function n(){return Object(r["a"])({url:"/creative/templateList",method:"get"})}function a(e){return Object(r["a"])({url:"/accessCenter/addSdk",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/accessCenter/updateSdk",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/accessCenter/getSdkPager",method:"post",data:e})}function c(e){return Object(r["a"])({url:"/accessCenter/getPublishedSdkList",method:"post",data:e})}function d(e){return Object(r["a"])({url:"/accessCenter/getSourceSdkPackagePager",method:"post",data:e})}function u(e){return Object(r["a"])({url:"/accessCenter/getSourceSdkAndPositionById/"+e,method:"post"})}function l(e){return Object(r["a"])({url:"/accessCenter/addSourceSdkPackage",method:"post",data:e})}function p(e){return Object(r["a"])({url:"/accessCenter/updateSourceSdkPackage",method:"post",data:e})}function m(e){return Object(r["a"])({url:"/accessCenter/bindingSource",method:"post",data:e})}function h(e){return Object(r["a"])({url:"/accessCenter/getSourceSdkList?os="+e,method:"get"})}function f(e){return Object(r["a"])({url:"/accessCenter/getSourceSdkById",method:"post",data:e})}function v(e){return Object(r["a"])({url:"/accessCenter/getSdkModifyLogByOs",method:"post",data:e})}},"1b0e":function(e,t,o){},"2c76":function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));o("4d90"),o("99af");var r=function(e,t){var o=new Date(e),r=o.getFullYear(),n=(o.getMonth()+1+"").padStart("2","0"),a=(o.getDate()+"").padStart("2","0"),s=(o.getHours()+"").padStart("2","0"),i=(o.getMinutes()+"").padStart("2","0"),c=(o.getSeconds()+"").padStart("2","0");return"YYYY-MM-DD hh:mm:ss"==t?"".concat(r,"-").concat(n,"-").concat(a," ").concat(s,":").concat(i,":").concat(c):"YYYY/MM/DD hh:dd:ss"==t?"".concat(r,"/").concat(n,"/").concat(a," ").concat(s,":").concat(i,":").concat(c):"YYYY-MM-DD_hhmmss"==t?"".concat(r,"-").concat(n,"-").concat(a,"_").concat(s).concat(i).concat(c):"".concat(r,"-").concat(n,"-").concat(a)}},"7f46":function(e,t,o){"use strict";function r(e){var t=document.createElement("textarea");t.value=e,t.readOnly="readOnly",document.body.appendChild(t),t.select(),t.setSelectionRange(0,e.length);var o=document.execCommand("Copy");return t.remove(),o}o.d(t,"a",(function(){return r}))},9040:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticClass:"upload-container",attrs:{"element-loading-text":"接入代码生成中，请耐心等待","element-loading-spinner":"el-icon-loading","element-loading-custom-class":"loading"}},[o("div",{staticClass:"content"},[o("el-row",{staticClass:"row_one",attrs:{gutter:20}},[o("el-col",{attrs:{span:3}},[o("el-button",{attrs:{type:"primary"},on:{click:e.openWord}},[e._v(" 查看接入文档 ")])],1),o("el-col",{attrs:{span:3}},[o("el-button",{attrs:{type:"primary"},on:{click:e.updateLog}},[e._v(" 查看更新日志 ")])],1),o("el-col",{attrs:{span:3}},[o("el-button",{attrs:{type:"primary"},on:{click:e.downloadDemo}},[e._v(" 下载DEMO ")])],1)],1),o("el-form",{ref:"ruleForm",attrs:{model:e.SDKuploadForm,rules:e.SDKuploadRules,"label-width":"120px"}},[o("el-form-item",{attrs:{label:"操作系统",prop:"os"}},[o("el-radio-group",{on:{change:e.changeOs},model:{value:e.SDKuploadForm.os,callback:function(t){e.$set(e.SDKuploadForm,"os",t)},expression:"SDKuploadForm.os"}},[o("el-radio",{attrs:{label:1,border:""}},[e._v(" Android ")]),o("el-radio",{attrs:{label:0,border:""}},[e._v(" IOS ")])],1)],1),o("el-form-item",{attrs:{label:"当前版本",prop:"version"}},[o("el-select",{attrs:{placeholder:"请选择当前版本"},on:{change:e.handleVersionSelect},model:{value:e.SDKuploadForm.versionId,callback:function(t){e.$set(e.SDKuploadForm,"versionId",t)},expression:"SDKuploadForm.versionId"}},e._l(e.versionOption,(function(e){return o("el-option",{key:e.id,attrs:{label:e.version,value:e.id}})})),1)],1),o("el-form-item",{attrs:{label:"更新日期"}},[o("span",[e._v(e._s(e.updateTime))])]),o("el-form-item",{attrs:{label:"选择广告平台",prop:"version"}},[o("el-checkbox-group",{on:{change:e.handleChecked},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},[o("div",{staticClass:"advertPlatform"},e._l(e.advertplatform,(function(t,r){return o("el-checkbox",{key:r,staticClass:"checked",attrs:{label:e.advertplatform[r].id}},[o("div",{staticClass:"item",class:e.checkList.includes(e.advertplatform[r].id)?"current":""},[o("h3",{staticClass:"title"},[e._v(" "+e._s(t.name)+" ")]),o("div",{staticClass:"version"},[e._v(" "+e._s(t.version)+" ")]),o("div",{staticClass:"foot"},e._l(t.sourcePositions,(function(t,r){return o("span",{key:r,staticClass:"span_word"},[e._v(e._s(1==t?" 开屏 ":2==t?" 横幅 ":3==t?" 插屏 ":4==t?" 原生自渲染 ":5==t?" 激励视频 ":6==t?" 原生模版 ":""))])})),0)])])})),1)])],1)],1),o("el-row",{staticClass:"row_foot"},[o("el-button",{attrs:{type:"primary"},on:{click:e.toAccessCode}},[e._v(" 生成接入代码 ")])],1),o("el-row",{staticStyle:{"margin-top":"30px"},attrs:{gutter:0}},[o("el-col",{attrs:{offset:2,span:15}},[o("el-input",{attrs:{size:"small",placeholder:"",disabled:""},model:{value:e.downloadHref,callback:function(t){e.downloadHref=t},expression:"downloadHref"}})],1),o("el-col",{attrs:{span:4}},[o("el-button",{staticStyle:{"margin-left":"2px","margin-right":"2px"},attrs:{type:"",size:"small",disabled:!e.downloadHref},on:{click:e.handleCopy}},[e._v(" 复制链接 ")]),e.downloadHref?o("a",{staticClass:"downloadLink",attrs:{href:e.downloadHref,target:"_blank",download:e.fileName}},[e._v("下载")]):e._e()],1)],1)],1)])},n=[],a=o("1da1"),s=(o("96cf"),o("d3b7"),o("159b"),o("ac1f"),o("5319"),o("cebe")),i=o.n(s),c=o("0bc2"),d=o("2c76"),u=o("7f46"),l={data:function(){return{isLoading:!1,SDKuploadForm:{os:1,version:"",versionId:null},updateTime:"",advertplatform:[],versionOption:[{}],SDKuploadRules:{os:[{required:!0,message:"请选择操作系统",trigger:"blur"}],version:[{required:!0,message:"请选择当前版本",trigger:"blur"}]},checkList:[],versionList:[],downloadHref:"",fileName:""}},computed:{title:function(){return this.$store.getters.title},versionName:function(){var e=this,t="";return this.versionOption.length>0?(this.versionOption.forEach((function(o){o.id==e.SDKuploadForm.versionId&&(t=o.version)})),t):""}},mounted:function(){this.getMedproSdkList(),this.getAdvertSource(),this.getDate()},methods:{getDate:function(){var e=new Date;this.updateTime=Object(d["a"])(e)},getMedproSdkList:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["m"])({os:e.SDKuploadForm.os});case 2:o=t.sent,200==o.code&&(e.versionList=o.data.items,r=[],o.data.forEach((function(e){var t={};t["id"]=e.id,t["version"]=e.version,t["modifyTime"]=Object(d["a"])(e.modifyTime),r.push(t)})),e.versionOption=r,e.versionOption.length>0&&(e.SDKuploadForm.versionId=e.versionOption[0].id,e.updateTime=e.versionOption[0].modifyTime));case 4:case"end":return t.stop()}}),t)})))()},getAdvertSource:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==e.SDKuploadForm.versionId){t.next=6;break}return t.next=3,e.getMedproSdkList();case 3:if(null!==e.SDKuploadForm.versionId){t.next=6;break}return e.advertplatform=null,t.abrupt("return");case 6:return t.next=8,Object(c["d"])(e.SDKuploadForm.versionId);case 8:o=t.sent,200==o.code&&(e.advertplatform=o.data);case 10:case"end":return t.stop()}}),t)})))()},handleChecked:function(){},changeOs:function(){this.SDKuploadForm.version="",this.SDKuploadForm.versionId=null,this.updateTime="",this.getMedproSdkList(),this.getAdvertSource()},toAccessCode:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var o,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=e.checkList.length){t.next=2;break}return t.abrupt("return",e.$message.warning("请选择广告平台"));case 2:if(""!=e.SDKuploadForm.versionId){t.next=4;break}return t.abrupt("return",e.$message.warning("请选择版本号"));case 4:return o={id:e.SDKuploadForm.versionId,os:e.SDKuploadForm.os,sourceSdkPackageIds:e.checkList},e.isLoading=!0,t.next=8,i()({url:"https://app.medproad.com:8008//accessCenter/downloadSdk",headers:{Authorization:e.$store.getters.token},method:"post",data:o});case 8:r=t.sent,n=r.data,n.data&&(e.fileName=n.data.replace(".","%2E").replace(".","%2E"),e.downloadHref="https://app.mediatom.cn/download/"+e.fileName,e.isLoading=!1);case 11:case"end":return t.stop()}}),t)})))()},handleDownload:function(){window.open=this.downloadHref},handleCopy:function(){var e=Object(u["a"])(this.downloadHref);!1===e?this.$message({message:"不支持复制",type:"error",duration:2e3}):this.$message({message:"复制成功",type:"success",duration:2e3})},handleVersionSelect:function(){this.getAdvertSource()},updateLog:function(){this.$router.push({path:"/Accesscenter/updateLog",query:{os:this.SDKuploadForm.os}})},openWord:function(){0==this.SDKuploadForm.os?window.open(this.isMedPro()?"https://creative.medproad.com/medpro/html/Mediatom-iOS-SDK-对接文档.html":"https://res.ads.cctv.com/html/CMedia-iOS-SDK-对接文档.html"):window.open(this.isMedPro()?"https://creative.medproad.com/medpro/html/Mediatom-Android-SDK接入文档.html":"https://res.ads.cctv.com/html/CMedia-Android-SDK接入文档.html")},downloadDemo:function(){0==this.SDKuploadForm.os?window.open(this.isMedPro()?"https://creative.medproad.com/medpro/app/demo/Medpro_iOS_Demo.zip":"https://res.ads.cctv.com/demo/CMedia-iOS-Demo.zip"):window.open(this.isMedPro()?"https://creative.medproad.com/medpro/app/demo/Medpro_Android_Demo.zip":"https://res.ads.cctv.com/app/CMedia-Android-Demo.zip")},isMedPro:function(){return this.$store.getters.isMedPro}}},p=l,m=(o("da2c"),o("2877")),h=Object(m["a"])(p,r,n,!1,null,"56a9243f",null);t["default"]=h.exports},da2c:function(e,t,o){"use strict";o("1b0e")}}]);