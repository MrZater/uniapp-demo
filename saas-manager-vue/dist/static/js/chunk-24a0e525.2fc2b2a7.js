(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24a0e525"],{"21a6":function(t,e,a){(function(a){var r,n,s;(function(a,i){n=[],r=i,s="function"===typeof r?r.apply(e,n):r,void 0===s||(t.exports=s)})(0,(function(){"use strict";function e(t,e){return"undefined"==typeof e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function r(t,e,a){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){c(r.response,e,a)},r.onerror=function(){console.error("could not download file")},r.send()}function n(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function s(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(r){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,o=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(t,e,a){var o=i.URL||i.webkitURL,c=document.createElement("a");e=e||t.name||"download",c.download=e,c.rel="noopener","string"==typeof t?(c.href=t,c.origin===location.origin?s(c):n(c.href)?r(t,e,a):s(c,c.target="_blank")):(c.href=o.createObjectURL(t),setTimeout((function(){o.revokeObjectURL(c.href)}),4e4),setTimeout((function(){s(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,a,i){if(a=a||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,i),a);else if(n(t))r(t,a,i);else{var o=document.createElement("a");o.href=t,o.target="_blank",setTimeout((function(){s(o)}))}}:function(t,e,a,n){if(n=n||open("","_blank"),n&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof t)return r(t,e,a);var s="application/octet-stream"===t.type,c=/constructor/i.test(i.HTMLElement)||i.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&c||o)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var t=d.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=t:location=t,n=null},d.readAsDataURL(t)}else{var u=i.URL||i.webkitURL,p=u.createObjectURL(t);n?n.location=p:location.href=p,n=null,setTimeout((function(){u.revokeObjectURL(p)}),4e4)}});i.saveAs=c.saveAs=c,t.exports=c}))}).call(this,a("c8ba"))},"244d":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"d",(function(){return s})),a.d(e,"a",(function(){return i})),a.d(e,"e",(function(){return o})),a.d(e,"c",(function(){return c}));var r=a("b775");function n(){return Object(r["a"])({url:"/place/list",methods:"get"})}function s(t){return Object(r["a"])({url:"/place/pager",method:"post",data:t})}function i(t){return Object(r["a"])({url:"/place/add",method:"post",data:t})}function o(t){return Object(r["a"])({url:"/place/update",method:"post",data:t})}function c(t){return Object(r["a"])({url:"/place/listByAppId",method:"post",data:t})}},2934:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return s}));var r=a("b775");function n(){return Object(r["a"])({url:"/common/position_list",methods:"get"})}function s(t){return Object(r["a"])({url:"/user/getAccountList",method:"post",data:t})}},"2c76":function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));a("4d90"),a("99af");var r=function(t,e){var a=new Date(t),r=a.getFullYear(),n=(a.getMonth()+1+"").padStart("2","0"),s=(a.getDate()+"").padStart("2","0"),i=(a.getHours()+"").padStart("2","0"),o=(a.getMinutes()+"").padStart("2","0"),c=(a.getSeconds()+"").padStart("2","0");return"YYYY-MM-DD hh:mm:ss"==e?"".concat(r,"-").concat(n,"-").concat(s," ").concat(i,":").concat(o,":").concat(c):"YYYY/MM/DD hh:dd:ss"==e?"".concat(r,"/").concat(n,"/").concat(s," ").concat(i,":").concat(o,":").concat(c):"YYYY-MM-DD_hhmmss"==e?"".concat(r,"-").concat(n,"-").concat(s,"_").concat(i).concat(o).concat(c):"".concat(r,"-").concat(n,"-").concat(s)}},"2e1b":function(t,e,a){"use strict";a("3ef0")},"3ef0":function(t,e,a){},"441c":function(t,e,a){"use strict";a.d(e,"e",(function(){return n})),a.d(e,"b",(function(){return s})),a.d(e,"f",(function(){return i})),a.d(e,"d",(function(){return o})),a.d(e,"c",(function(){return c})),a.d(e,"a",(function(){return l}));var r=a("b775");function n(t){return Object(r["a"])({url:"/plat/pager",method:"post",data:t})}function s(t){return Object(r["a"])({url:"/plat/add",method:"post",data:t})}function i(t){return Object(r["a"])({url:"/plat/update",method:"post",data:t})}function o(){return Object(r["a"])({url:"/plat/list",method:"get"})}function c(t){return Object(r["a"])({url:"/plat/accounts/"+t,method:"post"})}function l(t){return Object(r["a"])({url:"/plat/addDefinedPlat",method:"post",data:t})}},"5c25":function(t,e,a){t.exports=a.p+"static/img/no-data.5dbb23e5.png"},9506:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tab-container"},[a("div",{staticClass:"search"},[a("el-row",{staticClass:"search_box",attrs:{gutter:5}},[a("el-col",{staticClass:"item",attrs:{span:6}},[a("el-date-picker",{staticStyle:{width:"95%"},attrs:{clearable:!1,type:"daterange","value-format":"yyyy-MM-dd",align:"right","unlink-panels":"","range-separator":"与","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},on:{change:t.getSTime},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1),"SUPER_ADMIN"===t.$store.state.user.roles[0]||"BUSINESS"===t.$store.state.user.roles[0]||"TECHNOLOGY"==t.$store.state.user.roles[0]||"MANAGEMENT"==t.$store.state.user.roles[0]||"BUSINESS_DIRECTOR"==t.$store.state.user.roles[0]||"OPERATOR_DIRECTOR"==t.$store.state.user.roles[0]?a("el-col",{staticClass:"item",attrs:{span:6}},[a("CustSelectOne",{staticStyle:{width:"95%"},attrs:{model:t.reportParams.adminUserIds[0],"all-data":t.adminList,width:285,word:"账号",clear:!0},on:{handleSelect:t.handleSelectAdmin}})],1):t._e(),a("el-col",{staticClass:"item",attrs:{span:6}},[a("CustSelectApp",{staticStyle:{width:"95%"},attrs:{word:"应用",width:450,"all-data":t.departments1,model:t.reportParams.appIdList,"search-by-id":""},on:{selectListhandle:t.selectappListhandleApp}})],1),a("el-col",{staticClass:"item",attrs:{span:6}},[a("CustSelectApp",{staticStyle:{width:"95%"},attrs:{word:"广告位",width:450,model:t.reportParams.placeIdList,"all-data":t.departments2,"search-by-id":""},on:{selectListhandle:t.selectappListhandlePlace}})],1),a("el-col",{staticClass:"item",attrs:{span:6}},[a("CustSelectApp",{staticStyle:{width:"95%"},attrs:{word:"广告样式",width:450,"all-data":t.options1},on:{selectListhandle:t.selectappListhandlePosition}})],1),a("el-col",{staticClass:"item",attrs:{span:6}},[a("CustSelectApp",{staticStyle:{width:"95%"},attrs:{word:"渠道",width:450,"all-data":t.departments5},on:{selectListhandle:t.selectappListhandleChannel}})],1),a("el-col",{staticClass:"item",attrs:{span:6}},[a("CustSelectApp",{staticStyle:{width:"95%"},attrs:{word:"广告源",width:450,"all-data":t.departments3},on:{selectListhandle:t.selectappListhandlePlat}})],1),a("el-col",{staticClass:"item",attrs:{span:6}},[a("CustSelectApp",{staticStyle:{width:"95%"},attrs:{word:"流量分组",width:450,"all-data":t.departments6},on:{selectListhandle:t.selectappListhandleGroup}})],1),a("el-col",{staticClass:"item",attrs:{span:6}},[a("CustSelectApp",{staticStyle:{width:"95%"},attrs:{word:"代码位",width:450,"all-data":t.departments4,"search-by-id":""},on:{selectListhandle:t.selectappListhandleCode}})],1),a("el-col",{staticClass:"item",attrs:{span:6}},[a("el-select",{staticStyle:{width:"95%"},attrs:{multiple:"",placeholder:"操作系统"},model:{value:t.reportParams.osIdList,callback:function(e){t.$set(t.reportParams,"osIdList",e)},expression:"reportParams.osIdList"}},t._l(t.systemPlatformOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-col",{staticClass:"item",attrs:{span:6}},[a("el-button",{staticClass:"searchBtn",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleSearch}},[t._v(" 搜索 ")])],1)],1)],1),a("el-card",{staticClass:"echarts_card"},[a("div",{staticClass:"search"},[a("el-select",{attrs:{placeholder:"",size:"mini"},on:{change:t.changeEcharts},model:{value:t.checkList[0],callback:function(e){t.$set(t.checkList,0,e)},expression:"checkList[0]"}},[a("el-option",{attrs:{label:"展示",value:"impress"}}),a("el-option",{attrs:{label:"预估收益",value:"income"}}),a("el-option",{attrs:{label:"预估eCPM",value:"estimatedRevenueEcpm"}}),a("el-option",{attrs:{label:"流量请求",value:"request"}}),a("el-option",{attrs:{label:"请求填充率",value:"requestFilledRate"}}),a("el-option",{attrs:{label:"点击",value:"click"}}),a("el-option",{attrs:{label:"点击率",value:"clickRate"}}),a("el-option",{attrs:{label:"广告请求",value:"advRequest"}}),a("el-option",{attrs:{label:"广告填充率",value:"advRequestFilledRate"}}),a("el-option",{attrs:{label:"展示率",value:"impressRate"}})],1)],1),a("div",{staticClass:"earcth"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingEcharts,expression:"loadingEcharts"}],ref:"box",staticClass:"eartch_left"})])]),a("el-card",{staticClass:"table_card"},[a("div",{staticClass:"hoursTable"},[a("div",{staticClass:"head_export"},[a("el-button",{staticClass:"el-icon-download",attrs:{disabled:!t.allowDownload,size:"small",type:"primary"},on:{click:t.exportHourReport}},[t._v(" 导出报表 ")])],1),t.tableDataEmpty?a("Empty"):a("el-table",{staticStyle:{width:"100%"},attrs:{id:"rebateSetTable","header-cell-style":{background:"#f7f8fa",color:"#000"},data:t.hoursTableData,stripe:""}},[a("el-table-column",{attrs:{prop:"date",width:"140",label:"日期",align:"center"}}),a("el-table-column",{attrs:{prop:"income","render-header":t.renderIncome,label:"预估eCPM",align:"center",width:"120"}}),a("el-table-column",{attrs:{prop:"estimatedRevenueEcpm","render-header":t.renderecpm,label:"预估eCPM",align:"center",width:"120"}}),t.showFlow?a("el-table-column",{attrs:{"render-header":t.renderequest,prop:"request",label:"流量请求",align:"center",width:"120"}}):t._e(),t.showFlow?a("el-table-column",{attrs:{prop:"requestFilledRate",formatter:t.flowFormatter,"render-header":t.trafficFilledRate,label:"流量填充率",align:"center",width:"130"}}):t._e(),a("el-table-column",{attrs:{prop:"advRequest","render-header":t.renderadvRequest,label:"广告请求",align:"center",width:"120"}}),a("el-table-column",{attrs:{prop:"advRequestFilledRate",formatter:t.advertFormatter,"render-header":t.renderFilledRate,label:"广告填充率",width:"120",align:"center"}}),a("el-table-column",{attrs:{prop:"impress","render-header":t.renderimpress,label:"展示",align:"center",width:"120"}}),a("el-table-column",{attrs:{prop:"impressRate",formatter:t.showFormatter,"render-header":t.renderimpressRate,label:"展示率",align:"center",width:"120"}}),a("el-table-column",{attrs:{prop:"click","render-header":t.renderclick,label:"点击",align:"center",width:"120"}}),a("el-table-column",{attrs:{prop:"clickRate",formatter:t.clickFormatter,label:"点击率","render-header":t.renderclickRate,align:"center"}})],1)],1)])],1)},n=[],s=a("1da1"),i=(a("96cf"),a("d3b7"),a("159b"),a("d81d"),a("b0c0"),a("a434"),a("caad"),a("2532"),a("99af"),a("59c5")),o=a("1af9"),c=a("244d"),l=a("b562"),d=a("2934"),u=a("8280"),p=a("2c76"),h=a("21a6"),m=a.n(h),f=a("fa47"),b=a("5f5c"),g=a.n(b),w=a("c37d"),v=a("441c"),L=a("164e"),y={name:"HourReport",components:{Empty:f["a"],tips:u["a"],CustSelectApp:i["a"],CustSelectOne:o["a"]},data:function(){return{myEcharts:null,iscreat:!0,reportParams:{page:1,limit:100,dateStart:"",dateEnd:"",adminUserIds:[],appIdList:[],appIdListExclude:1,placeIdList:[],placeIdListExclude:1,positionIdList:[],positionIdListExclude:1,platIdList:[],platIdListExclude:1,osIdList:[],groupIdList:[],groupIdListExclude:1,channelIdList:[],channelIdListExclude:1,sourceIdList:[],sourceIdListExclude:1},time:[],tableDataEmpty:!1,loadingEcharts:!1,hoursTableData:[],pickerOptions:{disabledDate:function(t){return t.getTime()>Date.now()||t.getTime()<16330176e5},shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近14天",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-12096e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}}]},dateArr:[],checkList:["impress"],ecjartsList:[],firstEcjartsList:[],secondEcjartsList:[],option:{tooltip:{trigger:"axis",formatter:function(t){var e="";return t.forEach((function(t,a){var r={};"预估收益"==t.seriesName||"预估eCPM"==t.seriesName?r.value="￥"+t.value:"流量填充率"==t.seriesName||"广告填充率"==t.seriesName||"点击率"==t.seriesName||"请求填充率"==t.seriesName?r.value=t.value+"%":r.value=t.value,e+=t.marker+t.seriesName+": "+r.value+"<br>"})),t[0].axisValue+"<br>"+e}},grid:{left:"1%",right:"1%",bottom:"1%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:[],axisLine:{lineStyle:{color:"#000",width:.5}}},yAxis:[{type:"value",position:"left",axisLine:{lineStyle:{color:"#000",width:.5}},splitLine:{show:!0},axisTick:{show:!0},axisLabel:{show:!0}}],series:[]},options1:[],options2:[],adminList:[],departments1:[],departments2:[],departments3:[],departments4:[],departments5:[],departments6:[],department1:[],department2:[],selfstyle:{textAlign:"right",paddingRight:"10px"},appOptions:[],adverStyleOptions:[],systemPlatformOptions:[{label:"Android",value:"1"},{label:"IOS",value:"0"}],adverStyleVal:"",systemPlatform:[],showFlow:!1}},computed:{title:function(){return this.$store.getters.title},allowDownload:function(){return this.$store.getters.allowDownload}},watch:{"reportParams.adminUserIds":{handler:function(t,e){var a=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t[0]!=e[0]){r.next=2;break}return r.abrupt("return");case 2:a.changeselectUser(t);case 3:case"end":return r.stop()}}),r)})))()}},"reportParams.appIdList":{handler:function(t,e){var a=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var n,s,i,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.length!=e.length){r.next=2;break}return r.abrupt("return");case 2:return n=[],n=0==t.length?a.departments1.map((function(t){return t.id})):t,r.next=6,Object(w["e"])(n);case 6:return s=r.sent,a.departments2=s.data?s.data:[],r.next=10,Object(w["g"])(n);case 10:return i=r.sent,a.departments6=i.data?i.data:[],r.next=14,Object(w["f"])(n);case 14:o=r.sent,o.data=o.data?o.data:[],o.data.forEach((function(t){t.searchId=t.platPlaceId})),a.departments4=o.data?o.data:[];case 18:case"end":return r.stop()}}),r)})))()}}},destroyed:function(){this.myEcharts.dispose(),window.removeEventListener("resize",this.getSize)},mounted:function(){this.getDate(),this.echartsInit(),window.addEventListener("resize",this.getSize),this.getSize(),this.getApp(),this.getPlace(),this.getadminList(),this.getFlowGroups(),this.getPosition(),this.getChannelData(),this.getCodeBit(),this.getPlatOptionList(),this.$route.params&&this.$route.params.crow&&this.$route.params.crow.appId&&this.reportParams.appIdList.push(this.$route.params.crow.appId),this.$route.params&&this.$route.params.crow&&this.$route.params.crow.placeId&&this.reportParams.placeIdList.push(this.$route.params.crow.placeId),this.$route.params&&this.$route.params.row&&(this.reportParams.dateEnd=this.$route.params.row.oldDate,this.reportParams.dateStart=this.$route.params.row.newDate,this.time[0]=this.$route.params.row.oldDate,this.time[1]=this.$route.params.row.newDate),this.getHoursReport(),this.getHoursEcharts()},methods:{changeselectUser:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n,s,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t[0]){a.next=23;break}return a.next=3,Object(l["d"])({id:t[0]});case 3:return r=a.sent,r.data||(r.data=[]),e.departments1=r.data?r.data:[],n=e.departments1.map((function(t){return t.id})),a.next=9,Object(w["e"])(n);case 9:return s=a.sent,e.departments2=s.data?s.data:[],a.next=13,Object(w["g"])(n);case 13:return i=a.sent,e.departments6=i.data?i.data:[],a.next=17,Object(w["f"])(n);case 17:o=a.sent,o.data=o.data?o.data:[],o.data.forEach((function(t){t.searchId=t.platPlaceId})),e.departments4=o.data?o.data:[],a.next=28;break;case 23:e.getApp(),e.getPlace(),e.getFlowGroups(),e.getCodeBit(),e.getPlatOptionList();case 28:case"end":return a.stop()}}),a)})))()},getDate:function(){var t=Object(p["a"])(Date.now()),e=Object(p["a"])(Date.now()-864e5);this.time=[e,t],this.reportParams.dateStart=this.time[0],this.reportParams.dateEnd=this.time[1]},getadminList:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["i"])();case 2:a=e.sent,a.data.forEach((function(t){t.name=t.company,t.id=""+t.id})),t.adminList=a.data;case 5:case"end":return e.stop()}}),e)})))()},getApp:function(){var t=this;Object(l["c"])().then((function(e){t.departments1=e.data}))},getPlace:function(){var t=this;Object(c["b"])().then((function(e){t.departments2=e.data}))},getFlowGroups:function(){var t=this;Object(w["i"])().then((function(e){t.departments6=e.data}))},getPosition:function(){var t=this;Object(d["a"])().then((function(e){t.options1=e.data}))},getChannelData:function(){var t=this;Object(w["j"])().then((function(e){t.departments5=e.data.map((function(t){return{name:t,id:t}}))}))},getPlatOptionList:function(){var t=this;Object(v["d"])().then((function(e){t.departments3=e.data}))},getCodeBit:function(){var t=this;Object(w["h"])().then((function(e){e.data.forEach((function(t){t.searchId=t.platPlaceId})),t.departments4=e.data}))},getHoursReport:function(){var t=this;1!=this.reportParams.adminUserIds.length||this.reportParams.adminUserIds[0]||(this.reportParams.adminUserIds=[]),Object(w["o"])(this.reportParams).then((function(e){var a;200==e.code&&(0!==(null===(a=e.data)||void 0===a?void 0:a.list.length)?(t.tableDataEmpty=!1,e.data.aggregate.date="汇总",e.data.list.unshift(e.data.aggregate),t.hoursTableData=e.data.list,t.reportParams.sourceIdList.length>0||t.reportParams.platIdList.length>0?t.showFlow=!1:t.showFlow=!0,t.$bus.$emit("totop")):t.tableDataEmpty=!0)}))},getSTime:function(){this.time?(this.reportParams.dateStart=this.time[0],this.reportParams.dateEnd=this.time[1]):(this.reportParams.dateStart="",this.reportParams.dateEnd="",this.time=[])},handleSelectAdmin:function(t){this.reportParams.adminUserIds=[t]},selectappListhandleApp:function(t){this.department1=t,this.reportParams.appIdList=t},selectappListhandlePlace:function(t){this.department2=t,this.reportParams.placeIdList=t},selectappListhandlePosition:function(t){this.reportParams.positionIdList=t},selectappListhandleChannel:function(t){this.reportParams.channelIdList=t},selectappListhandlePlat:function(t){this.reportParams.platIdList=t},selectappListhandleGroup:function(t){this.reportParams.groupIdList=t},selectappListhandleCode:function(t){this.reportParams.sourceIdList=t},handleSearch:function(){this.getHoursReport(),this.getHoursEcharts()},getHoursEcharts:function(){var t=this;this.loadingEcharts=!0,this.reportParams.adminUserIds[0]||(this.reportParams.adminUserIds=[]),Object(w["n"])(this.reportParams).then((function(e){for(var a=[],r=0;r<24;r++)a.push(r);for(var n in t.option.xAxis.data=a,t.dateArr=[],e.data)t.dateArr.push(n);t.dateArr.forEach((function(a,r){0==r?t.firstEcjartsList=e.data[a]:t.dateArr.length>1&&1==r&&(t.secondEcjartsList=e.data[a])})),0==t.dateArr.length&&(t.firstEcjartsList=[],t.secondEcjartsList=[]),t.changeEcharts()}))},changeEcharts:function(){var t=this;this.option.series=[];for(var e=function(e){t.firstEcjartsList.forEach((function(a,r){t.checkList[e]==a.field&&(t.option.legend={data:[t.dateArr[0]+"-"+a.name]},t.option.series[0]={name:t.dateArr[0]+"-"+a.name,type:"line",smooth:!0,data:a.data,symbol:"circle",symbolSize:4,itemStyle:{normal:{color:"#FF4905",lineStyle:{color:"#FF4905",width:1.8}}}})}))},a=0;a<this.checkList.length;a++)e(a);if(this.dateArr.length>1)for(var r=function(e){t.secondEcjartsList.forEach((function(a,r){t.checkList[e]==a.field&&(t.option.legend.data[1]=t.dateArr[1]+"-"+a.name,t.option.series[1]={name:t.dateArr[1]+"-"+a.name,type:"line",smooth:!0,data:a.data,symbol:"circle",symbolSize:4,itemStyle:{normal:{color:"#27AD61",lineStyle:{color:"#27AD61",width:1.8}}}})}))},n=0;n<this.checkList.length;n++)r(n);0==this.firstEcjartsList.length&&(this.option.legend={data:[]},this.option.series[0]={name:"",type:"line",smooth:!0,data:[],symbol:"circle",symbolSize:4,itemStyle:{normal:{color:"#FF4905",lineStyle:{color:"#FF4905",width:1.8}}}}),0==this.secondEcjartsList.length&&(this.option.legend.data=this.option.legend.data.splice(1,0),this.option.series[1]={name:"",type:"line",smooth:!0,data:[],symbol:"circle",symbolSize:4,itemStyle:{normal:{color:"#27AD61",lineStyle:{color:"#27AD61",width:1.8}}}}),this.option.tooltip.formatter=function(t){var e="";return t.forEach((function(t,a){var r={};t.seriesName.includes("预估收益")||t.seriesName.includes("预估eCPM")?r.value="￥"+t.value:t.seriesName.includes("流量填充率")||t.seriesName.includes("广告填充率")||t.seriesName.includes("点击率")||t.seriesName.includes("请求填充率")?r.value=t.value+"%":r.value=t.value,e+=t.marker+t.seriesName+": "+r.value+"<br>"})),t[0].axisValue+"时<br>"+e},this.loadingEcharts=!1,this.echartsInit()},getSize:function(){this.iscreat||this.myEcharts.resize(),this.iscreat=!1},echartsInit:function(){this.myEcharts&&(this.myEcharts.dispose(),this.myEcharts=null);var t=L.init(this.$refs.box);t.setOption(this.option),this.myEcharts=t},exportHourReport:function(){if(0!=this.hoursTableData.length){var t=g.a.utils.table_to_book(document.querySelector("#rebateSetTable")),e=g.a.write(t,{bookType:"xlsx",bookSST:!0,type:"array"});try{m.a.saveAs(new Blob([e],{type:"application/octet-stream"}),"sheet.xlsx")}catch(a){}return e}},flowFormatter:function(t){return t.requestFilledRate+"%"},advertFormatter:function(t){return t.advRequestFilledRate+"%"},showFormatter:function(t){return t.impressRate+"%"},clickFormatter:function(t){return t.clickRate+"%"},renderIncome:function(){return this.$createElement("tips",{props:{content:"预估收益=SUM(代码位人工填写的eCPM价格*".concat(this.title,"统计的展示/1000)"),title:"预估收益",isShow:!0}})},renderecpm:function(){return this.$createElement("tips",{props:{content:"预估收益/".concat(this.title,"统计的展示）*1000"),title:"预估eCPM",isShow:!0}})},renderequest:function(){return this.$createElement("tips",{props:{content:"应用向".concat(this.title,"发送请求的次数，一次流量请求可能触发多次广告请求"),title:"流量请求",isShow:!0}})},renderadvRequest:function(){return this.$createElement("tips",{props:{content:"".concat(this.title,"向广告平台发送请求的次数。一次流量请求可能触发多次广告请求"),title:"广告请求",isShow:!0}})},renderimpress:function(){return this.$createElement("tips",{props:{content:"".concat(this.title,"统计的广告曝光次数，由于统计口径差异、网络丢包等因素，").concat(this.title,"统计的展示数据与广告平台展示数据可能存在差异"),title:"展示",isShow:!0}})},trafficFilledRate:function(){return this.$createElement("tips",{props:{content:"应用向".concat(this.title,"发送请求后，响应成功的占比"),title:"流量填充率",isShow:!0}})},renderFilledRate:function(){return this.$createElement("tips",{props:{content:"".concat(this.title,"向广告平台发送请求后，返回成功的占比"),title:"广告填充率",isShow:!0}})},renderimpressRate:function(){return this.$createElement("tips",{props:{content:"".concat(this.title,"收到来自广告平台的广告返回后，展示成功的占比。公式为 展示率 = (展示/流量填充)"),title:"展示率",isShow:!0}})},renderclick:function(){return this.$createElement("tips",{props:{content:"".concat(this.title,"统计的广告点击数，由于部分广告平台不提供点击回调，").concat(this.title,"统计的点击数据与广告平台点击数据可能存在差异"),title:"点击",isShow:!0}})},renderclickRate:function(){return this.$createElement("tips",{props:{content:"".concat(this.title,"统计的点击率，点击率=点击数/展示数"),title:"点击率",isShow:!0}})}}},O=y,S=(a("2e1b"),a("2877")),E=Object(S["a"])(O,r,n,!1,null,"02f2158b",null);e["default"]=E.exports},a434:function(t,e,a){"use strict";var r=a("23e7"),n=a("23cb"),s=a("a691"),i=a("50c4"),o=a("7b0b"),c=a("65f0"),l=a("8418"),d=a("1dde"),u=a("ae40"),p=d("splice"),h=u("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,f=Math.min,b=9007199254740991,g="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!p||!h},{splice:function(t,e){var a,r,d,u,p,h,w=o(this),v=i(w.length),L=n(t,v),y=arguments.length;if(0===y?a=r=0:1===y?(a=0,r=v-L):(a=y-2,r=f(m(s(e),0),v-L)),v+a-r>b)throw TypeError(g);for(d=c(w,r),u=0;u<r;u++)p=L+u,p in w&&l(d,u,w[p]);if(d.length=r,a<r){for(u=L;u<v-r;u++)p=u+r,h=u+a,p in w?w[h]=w[p]:delete w[h];for(u=v;u>v-r+a;u--)delete w[u-1]}else if(a>r)for(u=v-r;u>L;u--)p=u+r-1,h=u+a-1,p in w?w[h]=w[p]:delete w[h];for(u=0;u<a;u++)w[u+L]=arguments[u+2];return w.length=v-r+a,d}})},b562:function(t,e,a){"use strict";a.d(e,"c",(function(){return n})),a.d(e,"e",(function(){return s})),a.d(e,"f",(function(){return i})),a.d(e,"a",(function(){return o})),a.d(e,"k",(function(){return c})),a.d(e,"j",(function(){return l})),a.d(e,"b",(function(){return d})),a.d(e,"d",(function(){return u})),a.d(e,"i",(function(){return p})),a.d(e,"h",(function(){return h})),a.d(e,"g",(function(){return m}));var r=a("b775");function n(){return Object(r["a"])({url:"/app/list",method:"get"})}function s(t){return Object(r["a"])({url:"/app/getAppListByRole",method:"post",data:t})}function i(t){return Object(r["a"])({url:"/app/pager",method:"post",data:t})}function o(t){return Object(r["a"])({url:"/app/add",method:"post",data:t})}function c(t){return Object(r["a"])({url:"/app/update",method:"post",data:t})}function l(t){return Object(r["a"])({url:"/aggregate/platformList/"+t,method:"post"})}function d(t){return Object(r["a"])({url:"/dashboard/getAdminAndAppListByBusinessId",method:"post",data:t})}function u(t){return Object(r["a"])({url:"/dashboard/getAppListByAdminId",method:"post",data:t})}function p(){return Object(r["a"])({url:"/user/adminList",method:"get"})}function h(){return Object(r["a"])({url:"/app/getMediaAppList",method:"get"})}function m(t){return Object(r["a"])({url:"/app/getApplistByUserIdAndOs",method:"post",data:t})}},c37d:function(t,e,a){"use strict";a.d(e,"l",(function(){return n})),a.d(e,"b",(function(){return s})),a.d(e,"r",(function(){return i})),a.d(e,"i",(function(){return o})),a.d(e,"j",(function(){return c})),a.d(e,"h",(function(){return l})),a.d(e,"g",(function(){return d})),a.d(e,"e",(function(){return u})),a.d(e,"f",(function(){return p})),a.d(e,"c",(function(){return h})),a.d(e,"d",(function(){return m})),a.d(e,"t",(function(){return f})),a.d(e,"u",(function(){return b})),a.d(e,"n",(function(){return g})),a.d(e,"o",(function(){return w})),a.d(e,"p",(function(){return v})),a.d(e,"a",(function(){return L})),a.d(e,"q",(function(){return y})),a.d(e,"k",(function(){return O})),a.d(e,"s",(function(){return S})),a.d(e,"m",(function(){return E}));var r=a("b775");function n(t){return Object(r["a"])({url:"/report/fullReport",method:"post",data:t})}function s(){return Object(r["a"])({url:"/plat/platList",method:"get"})}function i(t){return Object(r["a"])({url:"/plat/platListByUser",method:"post",data:t})}function o(){return Object(r["a"])({url:"/aggregate/groupList",method:"get"})}function c(){return Object(r["a"])({url:"/app/channelList",method:"get"})}function l(){return Object(r["a"])({url:"/aggregate/sourceList",method:"get"})}function d(t){return Object(r["a"])({url:"/aggregate/groupListByApp",method:"post",data:t})}function u(t){return Object(r["a"])({url:"/place/listByAppIds",method:"post",data:t})}function p(t){return Object(r["a"])({url:"aggregate/sourceListByApp",method:"post",data:t})}function h(t){return Object(r["a"])({url:"/aggregate/sourceListByAdplace",method:"post",data:t})}function m(t){return Object(r["a"])({url:"aggregate/groupListByAdplace",method:"post",data:t})}function f(t){return Object(r["a"])({url:"/userBehavior/report",method:"post",data:t})}function b(t){return Object(r["a"])({url:"/userBehavior/trend",method:"post",data:t})}function g(t){return Object(r["a"])({url:"/report/hourTrend",method:"post",data:t})}function w(t){return Object(r["a"])({url:"/report/hourReport",method:"post",data:t})}function v(t){return Object(r["a"])({url:"/report/upload",method:"post",data:t})}function L(t){return Object(r["a"])({url:"/report/record",method:"post",data:t})}function y(t){return Object(r["a"])({url:"/app/tradeList",method:"get",data:t})}function O(t){return Object(r["a"])({url:"/report/getMediaReport",method:"post",data:t})}function S(t){return Object(r["a"])({url:"/place/updateMediaReportInfo",method:"post",data:t})}function E(t){return Object(r["a"])({url:"/report/chart",method:"post",data:t})}},e9c4:function(t,e,a){var r=a("23e7"),n=a("d066"),s=a("d039"),i=n("JSON","stringify"),o=/[\uD800-\uDFFF]/g,c=/^[\uD800-\uDBFF]$/,l=/^[\uDC00-\uDFFF]$/,d=function(t,e,a){var r=a.charAt(e-1),n=a.charAt(e+1);return c.test(t)&&!l.test(n)||l.test(t)&&!c.test(r)?"\\u"+t.charCodeAt(0).toString(16):t},u=s((function(){return'"\\udf06\\ud834"'!==i("\udf06\ud834")||'"\\udead"'!==i("\udead")}));i&&r({target:"JSON",stat:!0,forced:u},{stringify:function(t,e,a){var r=i.apply(null,arguments);return"string"==typeof r?r.replace(o,d):r}})}}]);