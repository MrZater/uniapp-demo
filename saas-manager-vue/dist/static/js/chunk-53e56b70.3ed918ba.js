(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53e56b70"],{"0e0b":function(e,t,a){"use strict";a("8471")},2909:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var i=a("6b75");function s(e){if(Array.isArray(e))return Object(i["a"])(e)}a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("a630");function l(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var n=a("06c5");function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e){return s(e)||l(e)||Object(n["a"])(e)||r()}},2934:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return l}));var i=a("b775");function s(){return Object(i["a"])({url:"/common/position_list",methods:"get"})}function l(e){return Object(i["a"])({url:"/user/getAccountList",method:"post",data:e})}},3620:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return n}));var i=a("ade3"),s=(a("d3b7"),a("159b"),{tooltip:{trigger:"axis",formatter:function(e){var t="";return e.forEach((function(e,a){var i={};"收益"==e.seriesName||"eCPM"==e.seriesName||"预估收益"==e.seriesName||"ARPDAU"==e.seriesName?i.value="￥"+e.value:"渗透率"==e.seriesName?i.value=e.value+"%":i.value=e.value,t+=e.marker+e.seriesName+": "+i.value+"<br>"})),e[0].axisValue+"<br>"+t}},legend:{data:[]},grid:{top:"2%",left:"0%",right:"2%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:[],axisLine:{lineStyle:{color:"#000",width:.5}}},yAxis:[Object(i["a"])({type:"value",axisLabel:{formatter:"￥{value}"},position:"",axisLine:{lineStyle:{color:"#666",width:.5}},axisTick:{show:!1},splitLine:{show:!1}},"axisLabel",{show:!1}),{type:"value",position:"",axisLine:{lineStyle:{color:"#666",width:.5}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1}},{type:"value",position:"",axisLine:{lineStyle:{color:"#666",width:.5}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1}},{type:"value",position:"",axisLine:{lineStyle:{color:"#666",width:.5}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1}},{type:"value",position:"",axisLine:{lineStyle:{color:"#666",width:.5}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1}},{type:"value",position:"",axisLine:{lineStyle:{color:"#666",width:.5}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1}},{type:"value",position:"",axisLine:{lineStyle:{color:"#666",width:.5}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1}},{type:"value",position:"",axisLine:{lineStyle:{color:"#666",width:.5}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1}},{type:"value",position:"",axisLine:{lineStyle:{color:"#666",width:.5}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1}},{type:"value",position:"",axisLine:{lineStyle:{color:"#666",width:.5}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1}},{type:"value",position:"",axisLine:{lineStyle:{color:"#666",width:.5}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1}},{type:"value",position:"",axisLine:{lineStyle:{color:"#666",width:.5}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1}},{type:"value",position:"",axisLine:{lineStyle:{color:"#666",width:.5}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1}}],series:[{name:"",type:"line",smooth:!0,yAxisIndex:0,data:[],symbol:"circle",symbolSize:6,itemStyle:{normal:{color:"#0055ff",lineStyle:{color:"#0055ff",width:2}}}},{name:"",type:"line",smooth:!0,yAxisIndex:1,data:[],symbol:"circle",symbolSize:6,itemStyle:{normal:{color:"#ffab31",lineStyle:{color:"#ffab31",width:2}}}},{name:"",type:"line",smooth:!0,yAxisIndex:2,data:[],symbol:"circle",symbolSize:6,itemStyle:{normal:{color:"#39da61",lineStyle:{color:"#39da61",width:2}}}},{name:"",type:"line",smooth:!0,yAxisIndex:3,data:[],symbol:"circle",symbolSize:6,itemStyle:{normal:{color:"#ff6688",lineStyle:{color:"#ff6688",width:2}}}},{name:"",type:"line",smooth:!0,yAxisIndex:4,data:[],symbol:"circle",symbolSize:6,itemStyle:{normal:{color:"#a8a8ff",lineStyle:{color:"#a8a8ff",width:2}}}},{name:"",type:"line",smooth:!0,yAxisIndex:5,data:[],symbol:"circle",symbolSize:6,itemStyle:{normal:{color:"#de7af9",lineStyle:{color:"#de7af9",width:2}}}},{name:"",type:"line",smooth:!0,yAxisIndex:6,data:[],symbol:"circle",symbolSize:7,itemStyle:{normal:{color:"rgb(0, 118, 143)",lineStyle:{color:"rgb(0, 118, 143)",width:2}}}},{name:"",type:"line",smooth:!0,yAxisIndex:7,data:[],symbol:"circle",symbolSize:7,itemStyle:{normal:{color:"rgb(76, 180, 231)",lineStyle:{color:"rgb(76, 180, 231)",width:2}}}},{name:"",type:"line",smooth:!0,yAxisIndex:8,data:[],symbol:"circle",symbolSize:7,itemStyle:{normal:{color:"rgb(255, 192, 159)",lineStyle:{color:"rgb(255, 192, 159)",width:2}}}},{name:"",type:"line",smooth:!0,yAxisIndex:9,data:[],symbol:"circle",symbolSize:7,itemStyle:{normal:{color:"rgb(145, 78, 0)",lineStyle:{color:"rgb(145, 78, 0)",width:2}}}},{name:"",type:"line",smooth:!0,yAxisIndex:10,data:[],symbol:"circle",symbolSize:6,itemStyle:{normal:{color:"#ff746c",lineStyle:{color:"#ff746c",width:2}}}},{name:"",type:"line",smooth:!0,yAxisIndex:11,data:[],symbol:"circle",symbolSize:6,itemStyle:{normal:{color:"rgb(59, 203, 213)",lineStyle:{color:"rgb(59, 203, 213)",width:2}}}},{name:"",type:"line",smooth:!0,yAxisIndex:12,data:[],symbol:"circle",symbolSize:6,itemStyle:{normal:{color:"#ff4400",lineStyle:{color:"#ff4400",width:2}}}}]}),l={disabledDate:function(e){return e.getTime()>Date.now()||e.getTime()<16330176e5},shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近14天",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-12096e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}}]},n={tooltip:{trigger:"item"},legend:{bottom:"3%",left:"center"},series:[{type:"pie",radius:["45%","70%"],center:["50%","40%"],avoidLabelOverlap:!0,itemStyle:{borderRadius:0,borderColor:"#fff",borderWidth:2},label:{normal:{show:!0,position:"center",color:"#000",formatter:"汇总：123",fontSize:"18",fontWeight:300},emphasis:{show:!0}},emphasis:{label:{show:!1,fontSize:"40",fontWeight:"bold"}},labelLine:{show:!0},data:[{value:1048,name:"Search Engine",itemStyle:{color:"rgb(255, 192, 159)"}},{value:735,name:"Direct",itemStyle:{color:"rgb(145, 78, 0)"}},{value:580,name:"Email",itemStyle:{color:"#de7af9"}},{value:484,name:"Union Ads",itemStyle:{color:"rgb(0, 118, 143)"}},{value:300,name:"Video Ads",itemStyle:{color:"#a8a8ff"}}]}]}},"49de":function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return l})),a.d(t,"e",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"g",(function(){return o})),a.d(t,"f",(function(){return c})),a.d(t,"d",(function(){return d}));var i=a("b775");function s(){return Object(i["a"])({url:"/plat/api_platform_list",method:"get"})}function l(e){return Object(i["a"])({url:"/user/audit_user_list?userId="+e,method:"get"})}function n(e){return Object(i["a"])({url:"/creative/pager",method:"post",data:e})}function r(e){return Object(i["a"])({url:"/creative/audit",method:"post",data:e})}function o(e){return Object(i["a"])({url:"/creative/updateTags",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/creative/report",method:"post",data:e})}function d(){return Object(i["a"])({url:"/user/user_list_by_creative",method:"get"})}},"4f01":function(e,t,a){},"5c25":function(e,t,a){e.exports=a.p+"static/img/no-data.5dbb23e5.png"},"5dc9":function(e,t,a){"use strict";a("4f01")},8471:function(e,t,a){},"985a":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"audit-container"},[a("div",{staticClass:"search"},[a("div",{staticClass:"search_top"},[a("el-row",{attrs:{gutter:10}},["SUPER_ADMIN"===e.$store.state.user.roles[0]?a("el-col",{attrs:{span:4}},[a("CustSelectOne",{attrs:{model:e.query.userId,word:"账户",width:180,"all-data":e.adminList},on:{handleSelect:e.selectListhandleAdmin}})],1):e._e(),a("el-col",{attrs:{span:4}},[a("CustSelectOne",{attrs:{model:e.query.platId,word:"广告源",width:180,clear:!0,"all-data":e.platList},on:{handleSelect:e.selectListhandlePlat}})],1),a("el-col",{attrs:{span:4}},[a("CustSelectOne",{attrs:{model:e.query.positionId,word:"广告样式",width:180,clear:!0,"all-data":e.positionList},on:{handleSelect:e.selectListhandlePosition}})],1),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择素材类型"},model:{value:e.query.type,callback:function(t){e.$set(e.query,"type",t)},expression:"query.type"}},[a("el-option",{key:"1",attrs:{label:"图片",value:1}}),a("el-option",{key:"2",attrs:{label:"视频",value:2}})],1)],1),"AUDITOR"!==e.$store.state.user.roles[0]?a("el-col",{attrs:{span:4}},[a("CustSelectApp",{attrs:{word:"审核人员",width:450,"all-data":e.auditUserList},on:{selectListhandle:e.selectListhandleAudit}})],1):e._e()],1)],1),a("div",{staticClass:"search_bottom"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("span",{staticStyle:{display:"inline-block","font-size":"14px"}},[e._v(e._s("0"===e.query.auditSts?"上传":"审核")+"时间：")]),a("el-date-picker",{staticClass:"item",staticStyle:{display:"inline-block",width:"70%"},attrs:{clearable:!1,type:"daterange","value-format":"yyyy-MM-dd",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},on:{change:e.getSTimeChange},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"标题、描述、标签",clearable:""},model:{value:e.query.keyWords,callback:function(t){e.$set(e.query,"keyWords",t)},expression:"query.keyWords"}})],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v(" 查看 ")])],1)],1)],1)]),a("div",{staticClass:"material"},[a("div",{staticClass:"tab"},[a("div",{staticClass:"tab_box"},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.query.auditSts,callback:function(t){e.$set(e.query,"auditSts",t)},expression:"query.auditSts"}},[a("el-tab-pane",{attrs:{label:"待审核",name:"0"}}),a("el-tab-pane",{attrs:{label:"已通过",name:"1"}}),a("el-tab-pane",{attrs:{label:"已拒绝",name:"2"}})],1)],1),a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary "},on:{click:e.handleGrage}},[e._v(" 素材等级 ")])],1)]),e.materialList.length>0?a("div",{staticClass:"batchAudit"},[a("div",{staticClass:"flex_item number"},[a("p",[e._v(" "+e._s(0==e.query.auditSts?"待审核":1==e.query.auditSts?"已通过":2==e.query.auditSts?"已拒绝":"")+"素材共有"+e._s(e.total)+"张 ")])]),a("div",{staticClass:"flex_item"},[a("el-checkbox",{on:{change:e.handleCheckAll},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v(" 全选 ")])],1),a("div",{staticClass:"flex_item"},["1"!==e.query.auditSts?a("el-button",{attrs:{size:"mini",type:"primary ",disabled:!e.hasChecked||!e.allowOperate},on:{click:function(t){return e.handleBatchAudit(1)}}},[e._v(" 批量通过 ")]):e._e()],1),a("div",{staticClass:"flex_item"},["2"!==e.query.auditSts?a("el-button",{attrs:{size:"mini",type:" ",disabled:!e.hasChecked||!e.allowOperate},on:{click:function(t){return e.handleBatchAudit(2)}}},[e._v(" 批量拒绝 ")]):e._e()],1),a("div",{staticClass:"flex_item"},["0"==e.query.auditSts?a("el-button",{attrs:{size:"mini",type:"warning",disabled:!e.hasChecked||!e.allowOperate},on:{click:function(t){return e.handleBatchAudit(3)}}},[e._v(" 批量通过并拒绝未选 ")]):e._e()],1)]):e._e(),e.materialList.length>0?a("div",{staticClass:"material_list"},[a("div",{staticClass:"items",attrs:{gutter:15}},e._l(e.materialList,(function(t,i){return a("div",{key:i,staticClass:"item",attrs:{span:6}},[a("div",{staticClass:"material_box"},[a("div",{staticClass:"image"},[a("div",{staticClass:"svgicon",on:{click:function(a){return e.handleFull(t)}}},[a("svg-icon",{attrs:{"icon-class":"full"}})],1),a("div",{staticClass:"checked"},[a("el-checkbox",{model:{value:t.ischecked,callback:function(a){e.$set(t,"ischecked",a)},expression:"item.ischecked"}})],1),a("div",{staticClass:"todo"},[a("span",{directives:[{name:"show",rawName:"v-show",value:"1"!==e.query.auditSts,expression:"query.auditSts !== '1'"}],on:{click:function(a){return e.handleResolve(t)}}},[e._v("通过")]),a("span",{on:{click:function(a){return e.handleDetails(t)}}},[e._v("详情")]),a("span",{directives:[{name:"show",rawName:"v-show",value:"2"!==e.query.auditSts,expression:"query.auditSts !== '2'"}],on:{click:function(a){return e.handleReject(t)}}},[e._v("拒绝")])]),a("div",{staticClass:"image_box"},[1===t.type?a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.hadleHttps(t.creativeUrl),expression:"hadleHttps(item.creativeUrl)"}],attrs:{alt:"",src:e.hadleHttps(t.creativeUrl)},on:{click:function(e){t.ischecked=!0}}}):e._e(),2==t.type?a("video",{directives:[{name:"lazy",rawName:"v-lazy",value:e.hadleHttps(t.creativeUrl),expression:"hadleHttps(item.creativeUrl)"}],ref:"video"+t.id,refInFor:!0,attrs:{controlsList:"nodownload",noremote:"",footbar:"",disablePictureInPicture:"",noremoteplayback:"",nofullscreen:"",controls:!1,autoplay:!1,src:e.hadleHttps(t.creativeUrl),loop:!0},on:{click:function(e){t.ischecked=!0}}}):e._e()]),2==t.type?a("i",{class:{play:!0,"el-icon-video-play":!e.isPlay[t.id],"el-icon-video-pause":e.isPlay[t.id]},on:{click:function(a){return e.handlePlay(t.id)}}}):e._e()]),a("div",{staticClass:"uptime"},["0"==e.query.auditSts?a("span",[a("p",[e._v("上传时间：")]),e._v(" "+e._s(t.uploadTime.replace("T"," ")))]):a("span",[a("p",[e._v("审核时间：")]),e._v(" "+e._s(t.auditTime.replace("T"," ")))])]),a("div",{staticClass:"level"},[a("p",[e._v("等级：")]),a("el-radio-group",{attrs:{size:"mini"},on:{change:function(e){t.ischecked=!0}},model:{value:t.level,callback:function(a){e.$set(t,"level",a)},expression:"item.level"}},[a("el-radio-button",{attrs:{label:"A"}},[e._v(" A ")]),a("el-radio-button",{attrs:{label:"B"}},[e._v(" B ")]),a("el-radio-button",{attrs:{label:"C"}},[e._v(" C ")]),a("el-radio-button",{attrs:{label:"D"}},[e._v(" D ")])],1)],1),a("div",{staticClass:"downloadUrl"},[a("a",{attrs:{href:t.landingPage?t.landingPage:t.downloadUrl,target:"_blank"}},[a("svg-icon",{staticClass:"svgicon",attrs:{"icon-class":"linkto"}}),e._v(e._s(t.landingPage?t.landingPage:t.downloadUrl)+" ")],1)])])])})),0),a("el-pagination",{staticStyle:{"margin-top":"15px","margin-bottom":"50px"},attrs:{"current-page":e.query.page,"page-size":e.query.limit,layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,50,100],total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1):a("Empty",{staticClass:"empty"})],1),a("div",{staticClass:"full"},[a("el-dialog",{attrs:{modal:!0,"modal-append-to-body":!1,center:"",visible:e.fullDialog,"custom-class":"fulldialog",width:"40%"},on:{"update:visible":function(t){e.fullDialog=t}}},[a("div",{staticClass:"dialogbox"},["2"==e.fullQuery.type?a("video",{attrs:{controls:"",src:e.fullQuery.url}}):e._e(),"1"==e.fullQuery.type?a("img",{attrs:{src:e.fullQuery.url,alt:""}}):e._e()])])],1),a("div",{staticClass:"details"},[a("el-dialog",{attrs:{modal:!0,"destroy-on-close":!0,"modal-append-to-body":!1,center:"",title:"0"==e.query.auditSts?"待审核素材详情":"1"==e.query.auditSts?"已通过素材详情":"2"==e.query.auditSts?"已拒绝素材详情":"",visible:e.detailsDialog,width:"70%"},on:{"update:visible":function(t){e.detailsDialog=t},close:e.closeDetailDialog}},[a("div",{staticClass:"details_box"},[a("div",{staticClass:"left"},["2"==e.detailsinfo.type?a("video",{attrs:{controls:"",src:e.hadleHttps(e.detailsinfo.creativeUrl)}}):e._e(),"1"==e.detailsinfo.type?a("img",{attrs:{src:e.hadleHttps(e.detailsinfo.creativeUrl),alt:""}}):e._e()]),a("div",{staticClass:"right"},[a("div",{staticClass:"box"},[a("h3",[e._v("基本信息")]),a("p",[a("span",{staticClass:"title"},[e._v("素材ID：")]),e._v(e._s(e.detailsinfo.id))]),a("p",[a("span",{staticClass:"title"},[e._v("广告源：")]),e._v(e._s(e.detailsinfo.platName)+" ")]),a("p",[a("span",{staticClass:"title"},[e._v("素材标题：")]),e._v(e._s(e.detailsinfo.title)+" ")]),a("p",{staticClass:"description"},[a("span",{staticClass:"title"},[e._v("素材描述：")]),e._v(e._s(e.detailsinfo.description)+" ")]),a("p",{staticClass:"downloadUrl"},[a("span",{staticClass:"title"},[e._v("下载地址：")]),a("a",{attrs:{target:"_blank",href:e.detailsinfo.downloadUrl}},[e._v(e._s(e.detailsinfo.downloadUrl))])]),a("p",{staticClass:"landingPage"},[a("span",{staticClass:"title"},[e._v("落地页：")]),a("a",{attrs:{target:"_blank",href:e.detailsinfo.landingPage}},[e._v(e._s(e.detailsinfo.landingPage))])]),a("p",{staticClass:"tags"},[a("span",{staticClass:"title"},[e._v("标签：")]),a("WordTransfer",{attrs:{model:e.detailsinfo.tags},on:{addTags:function(t){e.detailsinfo.tags=t},removeTag:function(t){e.detailsinfo.tags=t}}})],1),a("span",{staticClass:"title"},[e._v("等级： "),a("el-radio-group",{attrs:{size:"mini"},model:{value:e.detailsinfo.level,callback:function(t){e.$set(e.detailsinfo,"level",t)},expression:"detailsinfo.level"}},[a("el-radio-button",{attrs:{label:"A"}},[e._v("A")]),a("el-radio-button",{attrs:{label:"B"}},[e._v("B")]),a("el-radio-button",{attrs:{label:"C"}},[e._v("C")]),a("el-radio-button",{attrs:{label:"D"}},[e._v("D")])],1)],1),a("p",[a("span",{staticClass:"title"},[e._v("审核：")]),a("el-radio",{attrs:{label:"1"},model:{value:e.detailsinfo.auditSts,callback:function(t){e.$set(e.detailsinfo,"auditSts",t)},expression:"detailsinfo.auditSts"}},[e._v(" 通过 ")]),a("el-radio",{attrs:{label:"2"},model:{value:e.detailsinfo.auditSts,callback:function(t){e.$set(e.detailsinfo,"auditSts",t)},expression:"detailsinfo.auditSts"}},[e._v(" 拒绝 ")])],1)])])]),e.allowOperate?a("span",{staticClass:"details-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"plain"},on:{click:function(t){e.detailsDialog=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleSumbitDetails}},[e._v("提交")])],1):e._e()])],1),a("div",{staticClass:"grade"},[a("el-dialog",{attrs:{title:"素材等级",visible:e.gradeDialog},on:{"update:visible":function(t){e.gradeDialog=t}}},[a("el-table",{staticClass:"tableBox",staticStyle:{width:"100%"},attrs:{data:e.gradeTable,stripe:""}},[a("el-table-column",{attrs:{prop:"date",label:"素材分级",align:"center"}}),a("el-table-column",{attrs:{prop:"name",label:"描述",align:"center"}}),a("el-table-column",{attrs:{prop:"address",label:"展示的素材",align:"center"}})],1)],1)],1)])},s=[],l=a("1da1"),n=(a("96cf"),a("d3b7"),a("159b"),a("caad"),a("2532"),a("25f0"),a("b0c0"),a("99af"),a("e9c4"),a("a4d3"),a("e01a"),a("ac1f"),a("1276"),a("a15b"),a("49de")),r=a("2934"),o=a("3620"),c=a("1af9"),d=a("59c5"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"word-transfer-container"},[a("div",{staticClass:"left"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.tagword,expression:"tagword"}],attrs:{rows:"7",tabindex:"0",type:"text",placeholder:"多个关键词以换行或逗号分割"},domProps:{value:e.tagword},on:{input:function(t){t.target.composing||(e.tagword=t.target.value)}}})]),a("div",{staticClass:"center"},[a("span",{staticClass:"centerBtn",on:{click:e.addTags}},[a("i",{staticClass:"el-icon-d-arrow-right"}),e._v("添加")])]),a("div",{staticClass:"right"},[a("div",{staticClass:"search"},[a("el-input",{attrs:{placeholder:"请输入搜索字段"},model:{value:e.searchword,callback:function(t){e.searchword=t},expression:"searchword"}})],1),a("div",{staticClass:"show_list"},e._l(e.showList,(function(t,i){return a("div",{key:i,staticClass:"item"},[a("span",{staticClass:"word"},[e._v(e._s(t))]),a("span",{staticClass:"close",on:{click:function(a){return e.handleRemove(t)}}},[a("i",{staticClass:"el-icon-close"})])])})),0)])])},h=[],p=a("2909"),f=(a("a434"),{name:"Wordtransfer",props:{model:Array},data:function(){return{tagword:"",searchword:""}},computed:{modelList:function(){return JSON.parse(JSON.stringify(this.model))},showList:function(){var e=this,t=[];return""===this.searchword?t=this.modelList:this.modelList.forEach((function(a){a.includes(e.searchword)&&t.push(a)})),t}},methods:{addTags:function(){if(""!=this.tagword){var e=this.tagword.split(/[\n,，]/g);e=[].concat(Object(p["a"])(this.modelList),Object(p["a"])(e)),this.$emit("addTags",e),this.searchword="",this.tagword=""}},handleRemove:function(e){var t=this;this.modelList.forEach((function(a,i){if(e===a)return t.modelList.splice(i,1),void t.$emit("removeTag",t.modelList)}))}}}),m=f,v=(a("5dc9"),a("2877")),y=Object(v["a"])(m,u,h,!1,null,"ba9a4502",null),b=y.exports,g=a("fa47"),w={name:"Audit",components:{CustSelectOne:c["a"],CustSelectApp:d["a"],Empty:g["a"],WordTransfer:b},data:function(){return{pickerOptions:o["a"]||[],total:0,userId:"",checkAll:!1,query:{page:1,limit:20,userId:"",platId:"",positionId:"",auditSts:0,userIds:[],type:"",keyWords:"",beginDate:"",endDate:""},adminList:[],platList:[],positionList:[],auditUserList:[],date:[],materialList:[],fullDialog:!1,fullQuery:{url:"",type:""},detailsDialog:!1,detailsinfo:{creativeUrl:"",id:"",title:"",description:"",downloadUrl:"",landingPage:"",tags:[],level:"",auditSts:"",platName:""},isPlay:{},gradeDialog:!1,gradeTable:[{date:" A",name:"适合广泛观众看的内容",address:"所有人可以看"},{date:"B",name:"适合家长陪同下观看的内容",address:"成年人、青年人、儿童可看"},{date:"C",name:"适合青少年观看的内容",address:"青少年、成年人可看"},{date:"D",name:"适合成年人及以上观看的内容",address:"成年人可看"}]}},computed:{hasChecked:function(){var e=!1;return this.materialList.forEach((function(t){t.ischecked&&(e=!0)})),e},allowOperate:function(){return this.$store.getters.allowOperate}},watch:{materialList:{handler:function(e){var t=!0;e.forEach((function(e){e.ischecked||(t=!1)})),this.checkAll=t},deep:!0}},mounted:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.initDate(),t.next=3,e.getAdminList();case 3:return t.next=5,e.getPlatList();case 5:return t.next=7,e.getPosition();case 7:return t.next=9,e.getAuditUserList();case 9:e.handleGetMaterial();case 10:case"end":return t.stop()}}),t)})))()},methods:{hadleHttps:function(e){return e.includes("https:")?e.substring(6):e.includes("http:")?e.substring(5):e},getAdminList:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["d"])();case 2:if(a=t.sent,200===a.code){t.next=5;break}return t.abrupt("return");case 5:i=a.data,i.forEach((function(e){e.id=""+e.id})),e.adminList=i,"SUPER_ADMIN"===e.$store.state.user.roles[0]&&(e.query.userId=e.adminList[0].id.toString());case 9:case"end":return t.stop()}}),t)})))()},getPlatList:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["a"])();case 2:if(a=t.sent,200===a.code){t.next=5;break}return t.abrupt("return");case 5:a.data.forEach((function(e){e.id=""+e.id})),e.platList=a.data;case 7:case"end":return t.stop()}}),t)})))()},getPosition:function(){var e=this;Object(r["a"])().then((function(t){200===t.code&&(t.data||(t.data=[]),t.data.forEach((function(e){return[e.id=""+e.id]})),e.positionList=t.data)}))},getAuditUserList:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["c"])(e.query.userId);case 2:if(a=t.sent,200===a.code){t.next=5;break}return t.abrupt("return");case 5:a.data.forEach((function(e){e.name=e.username})),e.auditUserList=a.data;case 7:case"end":return t.stop()}}),t)})))()},initDate:function(){var e=(new Date).getTime(),t=new Date(e).getFullYear(),a=new Date(e).getMonth()+1,i=new Date(e).getDate(),s="".concat(t,"-").concat(a<10?"0"+a:a,"-").concat(i<10?"0"+i:i);this.date=[s,s],this.query.endDate=s,this.query.beginDate=s},selectListhandleAdmin:function(e){this.query.userId=""+e,this.getAuditUserList()},selectListhandlePlat:function(e){this.query.platId=e},selectListhandlePosition:function(e){this.query.positionId=e},selectListhandleAudit:function(e){this.query.userIds=e},getSTimeChange:function(){this.query.endDate=this.date[1],this.query.beginDate=this.date[0]},handleSearch:function(){this.query.page=1,this.handleGetMaterial()},handleGetMaterial:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$bus.$emit("totop"),a=JSON.parse(JSON.stringify(e.query)),"所有广告源"==a.platId&&(a.platId=""),"所有广告样式"==a.positionId&&(a.positionId=""),t.next=6,Object(n["e"])(a);case 6:if(i=t.sent,200===i.code){t.next=9;break}return t.abrupt("return");case 9:i.data.items.forEach((function(e){e.ischecked=!1})),e.userId=e.query.userId,e.materialList=i.data.items,e.total=i.data.total,e.checkAll=!1,e.isPlay={};case 15:case"end":return t.stop()}}),t)})))()},handleClick:function(){this.handleGetMaterial()},handleFull:function(e){this.fullQuery.url=e.creativeUrl,this.fullQuery.type=e.type,this.fullDialog=!0},handleCurrentChange:function(e){this.query.page=e,this.handleGetMaterial()},handleSizeChange:function(e){this.query.limit=e,this.handleGetMaterial()},auditMaterial:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(n["b"])(e);case 2:if(i=a.sent,200===i.code){a.next=5;break}return a.abrupt("return");case 5:t.query.page=1,t.handleGetMaterial();case 7:case"end":return a.stop()}}),a)})))()},handleCheckAll:function(){var e=this;this.materialList.forEach((function(t){t.ischecked=e.checkAll}))},handleBatchAudit:function(e){var t={userId:this.query.userId,auditVos:[]};1===e?this.materialList.forEach((function(e){e.ischecked&&t.auditVos.push({creativeId:e.id,level:e.level,auditSts:"1"})})):2===e?this.materialList.forEach((function(e){e.ischecked&&t.auditVos.push({creativeId:e.id,level:e.level,auditSts:"2"})})):3===e&&this.materialList.forEach((function(e){e.ischecked?t.auditVos.push({creativeId:e.id,level:e.level,auditSts:"1"}):t.auditVos.push({creativeId:e.id,level:e.level,auditSts:"2"})})),this.auditMaterial(t)},handleResolve:function(e){if(this.allowOperate){var t={userId:this.userId,auditVos:[{creativeId:e.id,level:e.level,auditSts:"1"}]};this.auditMaterial(t)}},handleReject:function(e){if(this.allowOperate){var t={userId:this.userId,auditVos:[{creativeId:e.id,level:e.level,auditSts:"2"}]};this.auditMaterial(t)}},closeDetailDialog:function(){this.detailsDialog=!1},handleDetails:function(e){this.detailsinfo={creativeUrl:e.creativeUrl,type:e.type,id:e.id,title:e.title,description:e.description,downloadUrl:e.downloadUrl,landingPage:e.landingPage,tags:e.tags?e.tags.split(","):[],level:e.level,auditSts:e.auditSts,platName:e.platName},this.detailsDialog=!0},handleSumbitDetails:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.detailsinfo.tags.join(","),t.next=3,Object(n["g"])({id:e.detailsinfo.id,tags:a});case 3:if(i=t.sent,200===i.code){t.next=6;break}return t.abrupt("return");case 6:s={userId:e.userId,auditVos:[{creativeId:e.detailsinfo.id,level:e.detailsinfo.level,auditSts:e.detailsinfo.auditSts}]},e.auditMaterial(s),e.detailsDialog=!1,e.handleGetMaterial();case 10:case"end":return t.stop()}}),t)})))()},handlePlay:function(e){this.$refs["video"+e][0].paused?(this.$refs["video"+e][0].play(),this.$set(this.isPlay,e,!0)):(this.$refs["video"+e][0].pause(),this.$set(this.isPlay,e,!1))},handleGrage:function(){this.gradeDialog=!0}}},x=w,S=(a("0e0b"),Object(v["a"])(x,i,s,!1,null,"5ac40483",null));t["default"]=S.exports},a434:function(e,t,a){"use strict";var i=a("23e7"),s=a("23cb"),l=a("a691"),n=a("50c4"),r=a("7b0b"),o=a("65f0"),c=a("8418"),d=a("1dde"),u=a("ae40"),h=d("splice"),p=u("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,m=Math.min,v=9007199254740991,y="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!h||!p},{splice:function(e,t){var a,i,d,u,h,p,b=r(this),g=n(b.length),w=s(e,g),x=arguments.length;if(0===x?a=i=0:1===x?(a=0,i=g-w):(a=x-2,i=m(f(l(t),0),g-w)),g+a-i>v)throw TypeError(y);for(d=o(b,i),u=0;u<i;u++)h=w+u,h in b&&c(d,u,b[h]);if(d.length=i,a<i){for(u=w;u<g-i;u++)h=u+i,p=u+a,h in b?b[p]=b[h]:delete b[p];for(u=g;u>g-i+a;u--)delete b[u-1]}else if(a>i)for(u=g-i;u>w;u--)h=u+i-1,p=u+a-1,h in b?b[p]=b[h]:delete b[p];for(u=0;u<a;u++)b[u+w]=arguments[u+2];return b.length=g-i+a,d}})},e9c4:function(e,t,a){var i=a("23e7"),s=a("d066"),l=a("d039"),n=s("JSON","stringify"),r=/[\uD800-\uDFFF]/g,o=/^[\uD800-\uDBFF]$/,c=/^[\uDC00-\uDFFF]$/,d=function(e,t,a){var i=a.charAt(t-1),s=a.charAt(t+1);return o.test(e)&&!c.test(s)||c.test(e)&&!o.test(i)?"\\u"+e.charCodeAt(0).toString(16):e},u=l((function(){return'"\\udf06\\ud834"'!==n("\udf06\ud834")||'"\\udead"'!==n("\udead")}));n&&i({target:"JSON",stat:!0,forced:u},{stringify:function(e,t,a){var i=n.apply(null,arguments);return"string"==typeof i?i.replace(r,d):i}})}}]);